import{G as M,u as b,_ as j,v as q,M as k,m as V,j as z,V as C,b as R,c as $,p as G}from"./makeScene2D-e6b541e7.js";import{C as L}from"./Circle-db5bd8bb.js";import{c as T}from"./createRef-ad1ed90d.js";M(S,q());function*S(e,i,t,n,p,r){const y=typeof n=="number"?n:.001;r=typeof n=="number"?r:p;const g=(s,u)=>{typeof n=="function"?n(s,u):typeof p=="function"&&p(s,u)};if(e=e??{mass:.05,stiffness:10,damping:.5},e.mass<=0){b().error(new Error("Spring mass must be greater than 0."));return}if(e.stiffness<0){b().error(new Error("Spring stiffness must be greater or equal to 0."));return}if(e.damping<0){b().error(new Error("Spring damping must be greater or equal to 0."));return}const a=j();let l=i,c=e.initialVelocity??0;const v=s=>{if(e===null)return;const u=l-t,F=-e.stiffness*u-e.damping*c;c+=F/e.mass*s,l+=c*s},d=1/120;g(i,0);const m=a.time();let f=m,w=!1;for(;!w;){for(;f<a.fixed;){const s=a.fixed-f;if(d>s?(v(s),f=a.fixed):(v(d),f+=d),Math.abs(t-l)<y&&Math.abs(c)<y){a.time(f),w=!0;break}}w||(g(l,a.fixed-m),yield)}g(t,a.fixed-m),r==null||r(t,a.fixed-m)}function D(e,i,t,n){return{mass:e,stiffness:i,damping:t,initialVelocity:n}}const _=D(.2,20,.68,0),A=D(.16,15.35,1.88,0);let h;h??(h=new k("tweening-spring",!1));h.loadData({version:0,shared:{background:null,range:[0,null],size:{x:1920,y:1080},audioOffset:0},preview:{fps:30,resolutionScale:1},rendering:{fps:60,resolutionScale:2,colorSpace:"srgb",fileType:"image/png",quality:1}});const B=h;let x;x??(x=new k("tweening-spring",!1));x.loadData({version:1,timeEvents:[],seed:3566829446});const H=x,o=V(function*(e){const i=T();e.add(z(L,{ref:i,x:-400,size:240,fill:"#e13238"})),yield*S(_,-400,400,1,t=>{i().position.x(t)}),yield*S(A,400,-400,t=>{i().position.x(t)})});o.name="tweening-spring";H.attach(o.meta);o.onReplaced??(o.onReplaced=new C(o.config));const I=R({scenes:[o]}),U=$("tweening-spring",{core:"3.8.0",two:"3.8.0",ui:"3.8.0",vitePlugin:"3.8.0"},[G()],I,B);export{U as default};

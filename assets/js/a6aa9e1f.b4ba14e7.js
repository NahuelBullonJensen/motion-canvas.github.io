(self.webpackChunk_motion_canvas_docs=self.webpackChunk_motion_canvas_docs||[]).push([[3089],{61532:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=61532,t.exports=e},49416:(t,e,s)=>{"use strict";s.r(e),s.d(e,{default:()=>y});var i=s(2784),r=s(6277),n=s(37614),o=s(48162),a=s(90211),l=s(73485),h=s(1077),c=s(97066);function u(t){const{metadata:e}=t,{previousPage:s,nextPage:r}=e;return i.createElement("nav",{className:"pagination-nav","aria-label":(0,h.I)({id:"theme.blog.paginator.navAriaLabel",message:"Blog list page navigation",description:"The ARIA label for the blog pagination"})},s&&i.createElement(c.Z,{permalink:s,title:i.createElement(h.Z,{id:"theme.blog.paginator.newerEntries",description:"The label used to navigate to the newer blog posts page (previous page)"},"Newer Entries")}),r&&i.createElement(c.Z,{permalink:r,title:i.createElement(h.Z,{id:"theme.blog.paginator.olderEntries",description:"The label used to navigate to the older blog posts page (next page)"},"Older Entries"),isNext:!0}))}var d=s(54390),p=s(41375),f=s(44646);function m(t){let{items:e,component:s=f.Z}=t;return i.createElement(i.Fragment,null,e.map((t=>{let{content:e}=t;return i.createElement(p.n,{key:e.metadata.permalink,content:e},i.createElement(s,null,i.createElement(e,null)))})))}function g(t){const{metadata:e}=t,{siteConfig:{title:s}}=(0,n.Z)(),{blogDescription:r,blogTitle:a,permalink:l}=e,h="/"===l?s:a;return i.createElement(i.Fragment,null,i.createElement(o.d,{title:h,description:r}),i.createElement(d.Z,{tag:"blog_posts_list"}))}function v(t){const{metadata:e,items:s,sidebar:r}=t;return i.createElement(l.Z,{sidebar:r},i.createElement(m,{items:s}),i.createElement(u,{metadata:e}))}function y(t){return i.createElement(o.FG,{className:(0,r.Z)(a.k.wrapper.blogPages,a.k.page.blogListPage)},i.createElement(g,t),i.createElement(v,t))}},70989:(t,e,s)=>{"use strict";s.d(e,{A:()=>y});var i=s(93091),r=s(88104),n=s(15688);function o(t,e){return void 0===e&&(e=t=>t),(s,i)=>{s[`getDefault${(0,n.k)(i)}`]=function(){this.requestLayoutUpdate();const s=this.element.style[t];this.element.style[t]="";const i=e.call(this,this.styles.getPropertyValue(t));return this.element.style[t]=s,i}}}var a=s(46350),l=s(29797),h=s(23357),c=s(98378),u=s(74534),d=s(67292),p=s(20092),f=s(11258),m=s(53693),g=s(97140),v=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class y extends p.N{get columnGap(){return this.gap.x}get rowGap(){return this.gap.y}getX(){return this.isLayoutRoot()?this.customX():this.computedPosition().x}setX(t){this.customX(t)}getY(){return this.isLayoutRoot()?this.customY():this.computedPosition().y}setY(t){this.customY(t)}getWidth(){return this.computedSize().width}setWidth(t){this.customWidth(t)}*tweenWidth(t,e,s,i){const r=this.desiredSize().x,n="number"!=typeof r||"number"!=typeof t;let o,a;o=n?this.size.x():r,n?(this.size.x(t),a=this.size.x()):a=t,this.size.x(o),n&&this.lockSize(),yield*(0,u.i)(e,(t=>this.size.x(i(o,a,s(t))))),this.size.x(t),n&&this.releaseSize()}getHeight(){return this.computedSize().height}setHeight(t){this.customHeight(t)}*tweenHeight(t,e,s,i){const r=this.desiredSize().y,n="number"!=typeof r||"number"!=typeof t;let o,a;o=n?this.size.y():r,n?(this.size.y(t),a=this.size.y()):a=t,this.size.y(o),n&&this.lockSize(),yield*(0,u.i)(e,(t=>this.size.y(i(o,a,s(t))))),this.size.y(t),n&&this.releaseSize()}get width(){return this.size.x}get height(){return this.size.y}desiredSize(){return{x:this.customWidth(),y:this.customHeight()}}*tweenSize(t,e,s,i){const r=this.desiredSize();let n,o;n="number"!=typeof r.x||"number"!=typeof r.y?this.size():new l.F(r),"object"==typeof t&&"number"==typeof t.x&&"number"==typeof t.y?o=new l.F(t):(this.size(t),o=this.size()),this.size(n),this.lockSize(),yield*(0,u.i)(e,(t=>this.size(i(n,o,s(t))))),this.releaseSize(),this.size(t)}constructor(t){let{tagName:e="div",...s}=t;super(s),this.sizeLockCounter=(0,g.g)(0),this.element=document.createElement(e),this.element.style.display="flex",this.element.style.boxSizing="border-box",this.styles=getComputedStyle(this.element)}lockSize(){this.sizeLockCounter(this.sizeLockCounter()+1)}releaseSize(){this.sizeLockCounter(this.sizeLockCounter()-1)}parentTransform(){let t=this.parent();for(;t;){if(t instanceof y)return t;t=t.parent()}return null}anchorPosition(){const t=this.computedSize(),e=this.offset();return t.scale(.5).mul(e)}layoutEnabled(){var t;return this.layout()??(null==(t=this.parentTransform())?void 0:t.layoutEnabled())??!1}isLayoutRoot(){var t;return!this.layoutEnabled()||!(null!=(t=this.parentTransform())&&t.layoutEnabled())}localToParent(){const t=new DOMMatrix,e=this.size().mul(this.offset()).scale(-.5);return t.translateSelf(this.position.x(),this.position.y()),t.rotateSelf(0,0,this.rotation()),t.scaleSelf(this.scale.x(),this.scale.y()),t.translateSelf(e.x,e.y),t}getComputedLayout(){return new h.b(this.element.getBoundingClientRect())}computedPosition(){this.requestLayoutUpdate();const t=this.getComputedLayout(),e=new l.F(t.x+t.width/2*this.offset.x(),t.y+t.height/2*this.offset.y()),s=this.parentTransform();if(s){const i=s.getComputedLayout();e.x-=i.x+(i.width-t.width)/2,e.y-=i.y+(i.height-t.height)/2}return e}computedSize(){return this.requestLayoutUpdate(),this.getComputedLayout().size}requestLayoutUpdate(){const t=this.parentTransform();this.appendedToView()?(null==t||t.requestFontUpdate(),this.updateLayout()):t.requestLayoutUpdate()}appendedToView(){const t=this.isLayoutRoot();return t&&this.view().element.append(this.element),t}updateLayout(){if(this.applyFont(),this.applyFlex(),this.layoutEnabled()){const t=this.layoutChildren();for(const e of t)e.updateLayout()}}layoutChildren(){const t=[...this.children()],e=[],s=[];for(;t.length;){const i=t.shift();i instanceof y?(e.push(i),s.push(i.element)):i&&t.unshift(...i.children())}return this.element.replaceChildren(...s),e}requestFontUpdate(){var t;null==(t=this.parentTransform())||t.requestFontUpdate(),this.applyFont()}getCacheBBox(){return h.b.fromSizeCentered(this.computedSize())}draw(t){if(this.clip()){const e=this.computedSize();if(0===e.width||0===e.height)return;t.beginPath(),t.rect(e.width/-2,e.height/-2,e.width,e.height),t.closePath(),t.clip()}this.drawChildren(t)}drawOverlay(t,e){const s=this.computedSize(),i=s.mul(this.offset()).scale(.5).transformAsPoint(e),r=h.b.fromSizeCentered(s),n=r.transformCorners(e),o=r.addSpacing(this.padding().scale(-1)).transformCorners(e),a=r.addSpacing(this.margin()).transformCorners(e);t.beginPath(),(0,f.pS)(t,a),(0,f.pS)(t,n),t.closePath(),t.fillStyle="rgba(255,193,125,0.6)",t.fill("evenodd"),t.beginPath(),(0,f.pS)(t,n),(0,f.pS)(t,o),t.closePath(),t.fillStyle="rgba(180,255,147,0.6)",t.fill("evenodd"),t.beginPath(),(0,f.pS)(t,n),t.closePath(),t.lineWidth=1,t.strokeStyle="white",t.stroke();t.beginPath(),(0,f.kZ)(t,i.addY(-8)),(0,f.kZ)(t,i.addY(8)),(0,f.kZ)(t,i),(0,f.kZ)(t,i.addX(-8)),t.arc(i.x,i.y,8,0,2*Math.PI),t.stroke()}getOriginDelta(t){const e=this.computedSize().scale(.5),s=this.offset().mul(e);if(t===c.aP.Middle)return s.flipped;return(0,c.WS)(t).mul(e).sub(s)}moveOffset(t){const e=this.computedSize().scale(.5),s=this.offset().mul(e),i=t.mul(e);this.offset(t),this.position(this.position().add(i).sub(s))}parsePixels(t){return null===t?"":`${t}px`}parseLength(t){return null===t?"":"string"==typeof t?t:`${t}px`}applyFlex(){this.element.style.position=this.isLayoutRoot()?"absolute":"relative";const t=this.desiredSize();this.element.style.width=this.parseLength(t.x),this.element.style.height=this.parseLength(t.y),this.element.style.maxWidth=this.parseLength(this.maxWidth()),this.element.style.minWidth=this.parseLength(this.minWidth()),this.element.style.maxHeight=this.parseLength(this.maxHeight()),this.element.style.minHeight=this.parseLength(this.minHeight()),this.element.style.aspectRatio=null===this.ratio()?"":this.ratio().toString(),this.element.style.marginTop=this.parsePixels(this.margin.top()),this.element.style.marginBottom=this.parsePixels(this.margin.bottom()),this.element.style.marginLeft=this.parsePixels(this.margin.left()),this.element.style.marginRight=this.parsePixels(this.margin.right()),this.element.style.paddingTop=this.parsePixels(this.padding.top()),this.element.style.paddingBottom=this.parsePixels(this.padding.bottom()),this.element.style.paddingLeft=this.parsePixels(this.padding.left()),this.element.style.paddingRight=this.parsePixels(this.padding.right()),this.element.style.flexDirection=this.direction(),this.element.style.flexBasis=this.parseLength(this.basis()),this.element.style.flexWrap=this.wrap(),this.element.style.justifyContent=this.justifyContent(),this.element.style.alignContent=this.alignContent(),this.element.style.alignItems=this.alignItems(),this.element.style.alignSelf=this.alignSelf(),this.element.style.columnGap=this.parseLength(this.gap.x()),this.element.style.rowGap=this.parseLength(this.gap.y()),this.sizeLockCounter()>0?(this.element.style.flexGrow="0",this.element.style.flexShrink="0"):(this.element.style.flexGrow=this.grow().toString(),this.element.style.flexShrink=this.shrink().toString())}applyFont(){if(this.element.style.fontFamily=this.fontFamily.isInitial()?"":this.fontFamily(),this.element.style.fontSize=this.fontSize.isInitial()?"":`${this.fontSize()}px`,this.element.style.fontStyle=this.fontStyle.isInitial()?"":this.fontStyle(),this.lineHeight.isInitial())this.element.style.lineHeight="";else{const t=this.lineHeight();this.element.style.lineHeight="string"==typeof t?(parseFloat(t)/100).toString():`${t}px`}if(this.element.style.fontWeight=this.fontWeight.isInitial()?"":this.fontWeight().toString(),this.element.style.letterSpacing=this.letterSpacing.isInitial()?"":`${this.letterSpacing()}px`,this.element.style.textAlign=this.textAlign.isInitial()?"":this.textAlign(),this.textWrap.isInitial())this.element.style.whiteSpace="";else{const t=this.textWrap();this.element.style.whiteSpace="boolean"==typeof t?t?"normal":"nowrap":t}}dispose(){var t;super.dispose(),null==(t=this.sizeLockCounter)||t.context.dispose(),this.element&&(this.element.remove(),this.element.innerHTML=""),this.element=null,this.styles=null}hit(t){const e=t.transformAsPoint(this.localToParent().inverse());return this.cacheBBox().includes(e)?super.hit(t)??this:null}}v([(0,i.nn)(null),(0,i.td)()],y.prototype,"layout",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"maxWidth",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"maxHeight",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"minWidth",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"minHeight",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"ratio",void 0),v([(0,m.g)("margin")],y.prototype,"margin",void 0),v([(0,m.g)("padding")],y.prototype,"padding",void 0),v([(0,i.nn)("row"),(0,i.td)()],y.prototype,"direction",void 0),v([(0,i.nn)(null),(0,i.td)()],y.prototype,"basis",void 0),v([(0,i.nn)(0),(0,i.td)()],y.prototype,"grow",void 0),v([(0,i.nn)(1),(0,i.td)()],y.prototype,"shrink",void 0),v([(0,i.nn)("nowrap"),(0,i.td)()],y.prototype,"wrap",void 0),v([(0,i.nn)("start"),(0,i.td)()],y.prototype,"justifyContent",void 0),v([(0,i.nn)("normal"),(0,i.td)()],y.prototype,"alignContent",void 0),v([(0,i.nn)("stretch"),(0,i.td)()],y.prototype,"alignItems",void 0),v([(0,i.nn)("auto"),(0,i.td)()],y.prototype,"alignSelf",void 0),v([(0,i.nn)(0),(0,r.y)({x:"columnGap",y:"rowGap"})],y.prototype,"gap",void 0),v([o("font-family"),(0,i.td)()],y.prototype,"fontFamily",void 0),v([o("font-size",parseFloat),(0,i.td)()],y.prototype,"fontSize",void 0),v([o("font-style"),(0,i.td)()],y.prototype,"fontStyle",void 0),v([o("font-weight",parseInt),(0,i.td)()],y.prototype,"fontWeight",void 0),v([o("line-height",parseFloat),(0,i.td)()],y.prototype,"lineHeight",void 0),v([o("letter-spacing",(t=>"normal"===t?0:parseFloat(t))),(0,i.td)()],y.prototype,"letterSpacing",void 0),v([o("white-space",(t=>"pre"===t?"pre":"normal"===t)),(0,i.td)()],y.prototype,"textWrap",void 0),v([(0,i.nn)("inherit"),(0,i.td)()],y.prototype,"textDirection",void 0),v([o("text-align"),(0,i.td)()],y.prototype,"textAlign",void 0),v([(0,i.r_)(!1),(0,i.Oq)(!1),(0,i.td)()],y.prototype,"customX",void 0),v([(0,i.r_)(!1),(0,i.Oq)(!1),(0,i.td)()],y.prototype,"customY",void 0),v([(0,i.Oq)(!1),(0,i.nn)(null),(0,i.td)()],y.prototype,"customWidth",void 0),v([(0,d.C)()],y.prototype,"tweenWidth",null),v([(0,i.Oq)(!1),(0,i.nn)(null),(0,i.td)()],y.prototype,"customHeight",void 0),v([(0,d.C)()],y.prototype,"tweenHeight",null),v([(0,i.r_)(!1),(0,i.nn)({x:null,y:null}),(0,r.y)({x:"width",y:"height"})],y.prototype,"size",void 0),v([(0,a.F)()],y.prototype,"desiredSize",null),v([(0,d.C)()],y.prototype,"tweenSize",null),v([(0,r.y)("offset")],y.prototype,"offset",void 0),v([(0,i.nn)(!1),(0,i.td)()],y.prototype,"clip",void 0),v([(0,a.F)()],y.prototype,"parentTransform",null),v([(0,a.F)()],y.prototype,"anchorPosition",null),v([(0,a.F)()],y.prototype,"layoutEnabled",null),v([(0,a.F)()],y.prototype,"isLayoutRoot",null),v([(0,a.F)()],y.prototype,"computedPosition",null),v([(0,a.F)()],y.prototype,"computedSize",null),v([(0,a.F)()],y.prototype,"requestLayoutUpdate",null),v([(0,a.F)()],y.prototype,"appendedToView",null),v([(0,a.F)()],y.prototype,"updateLayout",null),v([(0,a.F)()],y.prototype,"layoutChildren",null),v([(0,a.F)()],y.prototype,"requestFontUpdate",null),v([(0,a.F)()],y.prototype,"applyFlex",null),v([(0,a.F)()],y.prototype,"applyFont",null)},20092:(t,e,s)=>{"use strict";s.d(e,{N:()=>T});var i=s(93091),r=s(88104),n=s(46350),o=s(43595),a=s(29797),l=s(74741),h=s(23357),c=s(49111),u=s(3163);var d=s(97074),p=s(74534),f=s(13170),m=s(67292),g=s(11258),v=s(97140);const y={invert:{name:"invert"},sepia:{name:"sepia"},grayscale:{name:"grayscale"},brightness:{name:"brightness",default:1},contrast:{name:"contrast",default:1},saturate:{name:"saturate",default:1},hue:{name:"hue-rotate",unit:"deg",scale:1},blur:{name:"blur",transform:!0,unit:"px",scale:1}};class w{get name(){return this.props.name}get default(){return this.props.default}constructor(t){this.props={name:"invert",default:0,unit:"%",scale:100,transform:!1,...t,value:t.value??t.default??0},this.value=(0,v.g)(this.props.value,f.UI,this)}isActive(){return this.value()!==this.props.default}serialize(t){let e=this.value();return this.props.transform&&(e=(0,l.X6)(e,t)),`${this.props.name}(${e*this.props.scale}${this.props.unit})`}}var b=s(5376),x=s(5788),S=s(16249),k=s(93214);class C extends S.V{constructor(t,e){var s;super(t,f.o0,e),s=this;for(const i in y){const t=y[i];Object.defineProperty(this.invokable,i,{value:function(e,i,r){var n,o,a;if(void 0===r&&(r=d.qb),void 0===e)return(null==(o=s.get())||null==(a=o.find((e=>e.name===t.name)))?void 0:a.value())??t.default??0;let l=null==(n=s.get())?void 0:n.find((e=>e.name===t.name));return l||(l=new w(t),s.set([...s.get(),l])),void 0===i?(l.value(e),s.owner):l.value(e,i,r)}})}}*doTween(t,e,s){const i=this.get(),r=(0,k.P)(t)?t():t;if(function(t,e){if(t.length!==e.length)return!1;for(let s=0;s<t.length;s++)if(t[s].name!==e[s].name)return!1;return!0}(i,r))return yield*(0,b.$)(...i.map(((t,i)=>t.value(r[i].value(),e,s)))),void this.set(r);for(const a of r)a.value(a.default);const n=r.map((t=>t.value.context.raw())),o=i.length>0&&r.length>0?e/2:e;i.length>0&&(yield*(0,b.$)(...i.map((t=>t.value(t.default,o,s))))),this.set(r),r.length>0&&(yield*(0,b.$)(...r.map(((t,e)=>t.value(n[e],o,s)))))}}var P=s(76062),R=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class T{getAbsolutePosition(){const t=this.localToWorld();return new a.F(t.m41,t.m42)}setAbsolutePosition(t){(0,k.P)(t)?this.position((()=>t().transformAsPoint(this.worldToParent()))):this.position(t.transformAsPoint(this.worldToParent()))}getAbsoluteRotation(){const t=this.localToWorld();return 180*Math.atan2(t.m12,t.m11)/Math.PI}setAbsoluteRotation(t){(0,k.P)(t)?this.rotation((()=>(0,l.$H)(t(),this.worldToParent()))):this.rotation((0,l.$H)(t,this.worldToParent()))}getAbsoluteScale(){const t=this.localToWorld();return new a.F(a.F.magnitude(t.m11,t.m12),a.F.magnitude(t.m21,t.m22))}setAbsoluteScale(t){(0,k.P)(t)?this.scale((()=>this.getRelativeScale(t()))):this.scale(this.getRelativeScale(t))}getRelativeScale(t){var e;const s=(null==(e=this.parent())?void 0:e.absoluteScale())??a.F.one;return t.div(s)}*tweenCompositeOperation(t,e,s){const i=(0,k.P)(t)?t():t;"source-over"===i?(yield*this.compositeOverride(1,e,s),this.compositeOverride(0),this.compositeOperation(i)):(this.compositeOperation(i),this.compositeOverride(1),yield*this.compositeOverride(0,e,s))}absoluteOpacity(){var t;return((null==(t=this.parent())?void 0:t.absoluteOpacity())??1)*this.opacity()}hasFilters(){return!!this.filters().find((t=>t.isActive()))}hasShadow(){return!!this.shadowColor()&&(this.shadowBlur()>0||0!==this.shadowOffset.x()||0!==this.shadowOffset.y())}filterString(){let t="";const e=this.compositeToWorld();for(const s of this.filters())s.isActive()&&(t+=" "+s.serialize(e));return t}setChildren(t){this.spawner(t)}getChildren(){return this.spawnChildren(),this.realChildren}spawnChildren(){const t=this.spawner();if((0,k.P)(this.spawner.context.raw())){const e=new Set;for(const s of t){const t=s.parent.context.raw();if(t&&t!==this)throw new c.t("The spawner returned a node that already has a parent","A spawner should either create entirely new nodes or reuse nodes from a pool.");s.parent(this),e.add(s.key)}for(const t of this.realChildren)e.has(t.key)||t.parent(null);this.realChildren=t}else this.realChildren=t}sortedChildren(){return[...this.children()].sort(((t,e)=>Math.sign(t.zIndex()-e.zIndex())))}constructor(t){let{children:e,spawner:s,key:r,...n}=t;this.compositeOverride=(0,v.g)(0),this.stateStack=[],this.realChildren=[],this.parent=(0,v.g)(null),this.properties=(0,i.RG)(this);const o=(0,u.$r)();this.key=o.registerNode(this,r),this.view2D=o.getView(),this.creationStack=(new Error).stack,(0,i.Xd)(this,n),this.add(e),s&&this.children(s)}localToWorld(){const t=this.parent();return t?t.localToWorld().multiply(this.localToParent()):this.localToParent()}worldToLocal(){return this.localToWorld().inverse()}worldToParent(){var t;return(null==(t=this.parent())?void 0:t.worldToLocal())??new DOMMatrix}localToParent(){const t=new DOMMatrix;return t.translateSelf(this.position.x(),this.position.y()),t.rotateSelf(0,0,this.rotation()),t.scaleSelf(this.scale.x(),this.scale.y()),t}compositeToWorld(){var t;return(null==(t=this.compositeRoot())?void 0:t.localToWorld())??new DOMMatrix}compositeRoot(){var t;return this.composite()?this:(null==(t=this.parent())?void 0:t.compositeRoot())??null}compositeToLocal(){const t=this.compositeRoot();if(t){const e=this.worldToLocal();return e.m44=1,t.localToWorld().multiply(e)}return new DOMMatrix}view(){return this.view2D}add(t){return this.insert(t,1/0)}insert(t,e){void 0===e&&(e=0);const s=Array.isArray(t)?t:[t];if(0===s.length)return this;const i=this.children(),r=i.slice(0,e);for(const n of s)n instanceof T&&(r.push(n),n.remove(),n.parent(this));return r.push(...i.slice(e)),this.children(r),this}remove(){const t=this.parent();return null===t||(t.children(t.children().filter((t=>t!==this))),this.parent(null)),this}move(t){void 0===t&&(t=1);const e=this.parent();if(0===t||!e)return this;const s=e.children(),i=[];if(t>0)for(let r=0;r<s.length;r++){const e=s[r];if(e===this){const e=r+t;for(;r<e&&r+1<s.length;r++)i[r]=s[r+1]}i[r]=e}else for(let r=s.length-1;r>=0;r--){const e=s[r];if(e===this){const e=r+t;for(;r>e&&r>0;r--)i[r]=s[r-1]}i[r]=e}return e.children(i),this}moveUp(){return this.move(1)}moveDown(){return this.move(-1)}moveToTop(){return this.move(1/0)}moveToBottom(){return this.move(-1/0)}moveTo(t){const e=this.parent();if(!e)return this;const s=t-e.children().indexOf(this);return this.move(s)}moveBelow(t,e){void 0===e&&(e=!1);const s=this.parent();if(!s)return this;if(t.parent()!==s)return(0,u.wL)().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const i=s.children(),r=i.indexOf(this),n=i.indexOf(t);if(!e&&r<n)return this;const o=n-r-1;return this.move(o)}moveAbove(t,e){void 0===e&&(e=!1);const s=this.parent();if(!s)return this;if(t.parent()!==s)return(0,u.wL)().error("Cannot position nodes relative to each other if they don't belong to the same parent."),this;const i=s.children(),r=i.indexOf(this),n=i.indexOf(t);if(!e&&r>n)return this;const o=n-r+1;return this.move(o)}reparent(t){const e=this.absolutePosition(),s=this.absoluteRotation(),i=this.absoluteScale();t.add(this),this.absolutePosition(e),this.absoluteRotation(s),this.absoluteScale(i)}removeChildren(){for(const t of this.children())t.remove()}dispose(){this.stateStack=[];for(const{signal:t}of this)null==t||t.context.dispose()}clone(t){void 0===t&&(t={});const e={...t};(0,k.P)(this.spawner.context.raw())?e.spawner=this.spawner.context.raw():this.children().length>0&&(e.children??(e.children=this.children().map((t=>t.clone()))));for(const{key:s,meta:i,signal:r}of this)if(i.cloneable&&!(s in e))if(i.compound)for(const[t,n]of i.compoundEntries)n in e||(e[n]=r[t].context.raw());else e[s]=r.context.raw();return this.instantiate(e)}snapshotClone(t){void 0===t&&(t={});const e={...this.getState(),...t};return this.children().length>0&&(e.children??(e.children=this.children().map((t=>t.snapshotClone())))),this.instantiate(e)}reactiveClone(t){void 0===t&&(t={});const e={...t};this.children().length>0&&(e.children??(e.children=this.children().map((t=>t.reactiveClone()))));for(const{key:s,meta:i,signal:r}of this)i.cloneable&&!(s in e)&&(e[s]=()=>r());return this.instantiate(e)}instantiate(t){return void 0===t&&(t={}),new this.constructor(t)}requiresCache(){return this.cache()||this.opacity()<1||"source-over"!==this.compositeOperation()||this.hasFilters()||this.hasShadow()}cacheCanvas(){const t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("Could not create a cache canvas");return t}cachedCanvas(){const t=this.cacheCanvas(),e=this.worldSpaceCacheBBox(),s=this.localToWorld();return t.canvas.width=e.width,t.canvas.height=e.height,t.setTransform(s.a,s.b,s.c,s.d,s.e-e.x,s.f-e.y),this.draw(t),t}getCacheBBox(){return new h.b}cacheBBox(){const t=this.getCacheBBox(),e=this.children();if(0===e.length)return t;const s=t.corners;for(const i of e){const t=i.fullCacheBBox(),e=i.localToParent();s.push(...t.corners.map((t=>t.transformAsPoint(e))))}return h.b.fromPoints(...s)}fullCacheBBox(){const t=this.compositeToLocal(),e=this.shadowOffset().transform(t),s=(0,l.X6)(this.shadowBlur(),t),i=this.cacheBBox().expand(2*this.filters.blur()+s);return e.x<0?(i.x+=e.x,i.width-=e.x):i.width+=e.x,e.y<0?(i.y+=e.y,i.height-=e.y):i.height+=e.y,i}worldSpaceCacheBBox(){const t=h.b.fromSizeCentered(this.view().size()),e=h.b.fromPoints(...t.transformCorners(this.view().localToWorld())),s=h.b.fromPoints(...this.cacheBBox().transformCorners(this.localToWorld()));return e.intersection(s).pixelPerfect}setupDrawFromCache(t){if(t.globalCompositeOperation=this.compositeOperation(),t.globalAlpha*=this.opacity(),this.hasFilters()&&(t.filter=this.filterString()),this.hasShadow()){const e=this.compositeToWorld(),s=this.shadowOffset().transform(e),i=(0,l.X6)(this.shadowBlur(),e);t.shadowColor=this.shadowColor().serialize(),t.shadowBlur=i,t.shadowOffsetX=s.x,t.shadowOffsetY=s.y}}render(t){if(!(this.absoluteOpacity()<=0)){if(t.save(),this.transformContext(t),this.requiresCache()){const e=this.worldSpaceCacheBBox();if(0!==e.width&&0!==e.height){this.setupDrawFromCache(t);const s=this.cachedCanvas(),i=this.compositeOverride(),r=this.worldToLocal();t.transform(r.a,r.b,r.c,r.d,r.e,r.f),t.drawImage(s.canvas,e.position.x,e.position.y),i>0&&(t.save(),t.globalAlpha*=i,t.globalCompositeOperation="source-over",t.drawImage(s.canvas,e.position.x,e.position.y),t.restore())}}else this.draw(t);t.restore()}}draw(t){this.drawChildren(t)}drawChildren(t){for(const e of this.sortedChildren())e.render(t)}drawOverlay(t,e){const s=this.cacheBBox().transformCorners(e),i=this.getCacheBBox().transformCorners(e);t.strokeStyle="white",t.lineWidth=1,t.beginPath(),(0,g.pS)(t,s),t.closePath(),t.stroke(),t.strokeStyle="blue",t.beginPath(),(0,g.pS)(t,i),t.closePath(),t.stroke()}transformContext(t){const e=this.localToParent();t.transform(e.a,e.b,e.c,e.d,e.e,e.f)}hit(t){let e=null;const s=t.transformAsPoint(this.localToParent().inverse());for(const i of this.children().reverse())if(e=i.hit(s),e)break;return e}collectAsyncResources(){for(const t of this.children())t.collectAsyncResources()}async toPromise(){let t=P.k.consumePromises();do{await Promise.all(t.map((t=>t.promise))),this.collectAsyncResources(),t=P.k.consumePromises()}while(t.length>0);return this}getState(){const t={};for(const{key:e,meta:s,signal:i}of this)s.cloneable&&!(e in t)&&(t[e]=i());return t}applyState(t){for(const e in t){const s=this.signalByKey(e);s&&s(t[e])}}save(){this.stateStack.push(this.getState())}restore(t,e){void 0===e&&(e=d.qb);const s=this.stateStack.pop();if(void 0===s)return;const i=this.getState();for(const r in s)i[r]===s[r]&&delete s[r];return(0,p.i)(t,(t=>{const r=e(t),n=Object.keys(s).reduce(((t,e)=>(t[e]=(0,f.o0)(i[e],s[e],r),t)),{});this.applyState(n)}))}*[Symbol.iterator](){for(const t in this.properties){const e=this.properties[t],s=this.signalByKey(t);yield{meta:e,signal:s,key:t}}}signalByKey(t){return this[t]}}R([(0,r.y)()],T.prototype,"position",void 0),R([(0,i.YS)(a.F),(0,i.r_)(!1),(0,i.td)()],T.prototype,"absolutePosition",void 0),R([(0,i.nn)(0),(0,i.td)()],T.prototype,"rotation",void 0),R([(0,i.r_)(!1),(0,i.td)()],T.prototype,"absoluteRotation",void 0),R([(0,i.nn)(a.F.one),(0,r.y)("scale")],T.prototype,"scale",void 0),R([(0,i.YS)(a.F),(0,i.r_)(!1),(0,i.td)()],T.prototype,"absoluteScale",void 0),R([(0,i.nn)(0),(0,i.td)()],T.prototype,"zIndex",void 0),R([(0,i.nn)(!1),(0,i.td)()],T.prototype,"cache",void 0),R([(0,i.nn)(!1),(0,i.td)()],T.prototype,"composite",void 0),R([(0,i.nn)("source-over"),(0,i.td)()],T.prototype,"compositeOperation",void 0),R([(0,m.C)()],T.prototype,"tweenCompositeOperation",null),R([(0,i.nn)(1),(0,i.td)()],T.prototype,"opacity",void 0),R([(0,n.F)()],T.prototype,"absoluteOpacity",null),R([(t,e)=>{const s=(0,i.J)(t,e);(0,x.f)(t,(t=>{t[e]=new C(s.default??[],t).toSignal()}))}],T.prototype,"filters",void 0),R([(0,i.nn)("#0000"),(0,o.j)()],T.prototype,"shadowColor",void 0),R([(0,i.nn)(0),(0,i.td)()],T.prototype,"shadowBlur",void 0),R([(0,r.y)("shadowOffset")],T.prototype,"shadowOffset",void 0),R([(0,n.F)()],T.prototype,"hasFilters",null),R([(0,n.F)()],T.prototype,"hasShadow",null),R([(0,n.F)()],T.prototype,"filterString",null),R([(0,i.Oq)(!1),(0,i.r_)(!1),(0,i.nn)([]),(0,i.td)()],T.prototype,"spawner",void 0),R([(0,i.Oq)(!1),(0,i.r_)(!1),(0,i.td)()],T.prototype,"children",void 0),R([(0,n.F)()],T.prototype,"spawnChildren",null),R([(0,n.F)()],T.prototype,"sortedChildren",null),R([(0,n.F)()],T.prototype,"localToWorld",null),R([(0,n.F)()],T.prototype,"worldToLocal",null),R([(0,n.F)()],T.prototype,"worldToParent",null),R([(0,n.F)()],T.prototype,"localToParent",null),R([(0,n.F)()],T.prototype,"compositeToWorld",null),R([(0,n.F)()],T.prototype,"compositeRoot",null),R([(0,n.F)()],T.prototype,"compositeToLocal",null),R([(0,n.F)()],T.prototype,"cacheCanvas",null),R([(0,n.F)()],T.prototype,"cachedCanvas",null),R([(0,n.F)()],T.prototype,"cacheBBox",null),R([(0,n.F)()],T.prototype,"fullCacheBBox",null),R([(0,n.F)()],T.prototype,"worldSpaceCacheBBox",null),T.prototype.isClass=!0},15498:(t,e,s)=>{"use strict";s.d(e,{U:()=>h});var i=s(23357),r=s(13730),n=s(11258),o=s(93091),a=s(53693),l=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class h extends r.b{constructor(t){super(t)}getPath(){const t=new Path2D,e=this.radius(),s=this.smoothCorners(),r=this.cornerSharpness(),o=i.b.fromSizeCentered(this.size());return(0,n.Zy)(t,o,e,s,r),t}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}getRipplePath(){const t=new Path2D,e=this.rippleSize(),s=this.radius().addScalar(e),r=this.smoothCorners(),o=this.cornerSharpness(),a=i.b.fromSizeCentered(this.size()).expand(e);return(0,n.Zy)(t,a,s,r,o),t}}l([(0,a.g)("radius")],h.prototype,"radius",void 0),l([(0,o.nn)(!1),(0,o.td)()],h.prototype,"smoothCorners",void 0),l([(0,o.nn)(.6),(0,o.td)()],h.prototype,"cornerSharpness",void 0)},13730:(t,e,s)=>{"use strict";s.d(e,{b:()=>f});var i=s(93091),r=s(46350),n=s(70989),o=s(67292),a=s(97074),l=s(13170),h=s(11258),c=s(30204);function u(){return(t,e)=>{(0,i.td)()(t,e),(0,i.E2)(h.av)(t,e),(0,i.JI)(c.I.lerp)(t,e),(0,i.nn)(null)(t,e)}}var d=s(97140),p=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class f extends n.A{rippleSize(){return(0,a.ad)(this.rippleStrength(),0,50)}constructor(t){super(t),this.rippleStrength=(0,d.g)(0)}applyText(t){t.direction=this.textDirection(),this.element.dir=this.textDirection()}applyStyle(t){t.fillStyle=(0,h.ho)(this.fill(),t),t.strokeStyle=(0,h.ho)(this.stroke(),t),t.lineWidth=this.lineWidth(),t.lineJoin=this.lineJoin(),t.lineCap=this.lineCap(),t.setLineDash(this.lineDash()),t.lineDashOffset=this.lineDashOffset(),this.antialiased()||(t.filter="url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxmaWx0ZXIgaWQ9ImZpbHRlciIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj48ZmVDb21wb25lbnRUcmFuc2Zlcj48ZmVGdW5jUiB0eXBlPSJpZGVudGl0eSIvPjxmZUZ1bmNHIHR5cGU9ImlkZW50aXR5Ii8+PGZlRnVuY0IgdHlwZT0iaWRlbnRpdHkiLz48ZmVGdW5jQSB0eXBlPSJkaXNjcmV0ZSIgdGFibGVWYWx1ZXM9IjAgMSIvPjwvZmVDb21wb25lbnRUcmFuc2Zlcj48L2ZpbHRlcj48L3N2Zz4=#filter)")}draw(t){this.drawShape(t),this.clip()&&t.clip(this.getPath()),this.drawChildren(t)}drawShape(t){const e=this.getPath(),s=this.lineWidth()>0&&null!==this.stroke(),i=null!==this.fill();t.save(),this.applyStyle(t),this.drawRipple(t),this.strokeFirst()?(s&&t.stroke(e),i&&t.fill(e)):(i&&t.fill(e),s&&t.stroke(e)),t.restore()}getCacheBBox(){return super.getCacheBBox().expand(this.lineWidth()/2)}getPath(){return new Path2D}getRipplePath(){return new Path2D}drawRipple(t){const e=this.rippleStrength();if(e>0){const s=this.getRipplePath();t.save(),t.globalAlpha*=(0,l.UI)(.54,0,e),t.fill(s),t.restore()}}*ripple(t){void 0===t&&(t=1),this.rippleStrength(0),yield*this.rippleStrength(1,t,a.GE),this.rippleStrength(0)}}p([u()],f.prototype,"fill",void 0),p([u()],f.prototype,"stroke",void 0),p([(0,i.nn)(!1),(0,i.td)()],f.prototype,"strokeFirst",void 0),p([(0,i.nn)(0),(0,i.td)()],f.prototype,"lineWidth",void 0),p([(0,i.nn)("miter"),(0,i.td)()],f.prototype,"lineJoin",void 0),p([(0,i.nn)("butt"),(0,i.td)()],f.prototype,"lineCap",void 0),p([(0,i.nn)([]),(0,i.td)()],f.prototype,"lineDash",void 0),p([(0,i.nn)(0),(0,i.td)()],f.prototype,"lineDashOffset",void 0),p([(0,i.nn)(!0),(0,i.td)()],f.prototype,"antialiased",void 0),p([(0,r.F)()],f.prototype,"rippleSize",null),p([(0,r.F)()],f.prototype,"getPath",null),p([(0,o.C)()],f.prototype,"ripple",null)},70419:(t,e,s)=>{"use strict";s.d(e,{h:()=>l});var i=s(15498),r=s(93091),n=s(88733),o=s(79116),a=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class l extends i.U{constructor(t){super({composite:!0,fontFamily:"Roboto",fontSize:48,lineHeight:"120%",textWrap:!1,fontStyle:"normal",...t}),this.view2D=this,l.shadowRoot.append(this.element),this.applyFlex()}transformContext(){}dispose(){this.removeChildren(),super.dispose()}render(t){this.computedSize(),this.computedPosition(),super.render(t)}requestLayoutUpdate(){this.updateLayout()}view(){return this}}a([(0,r.nn)(n.q.Paused),(0,r.td)()],l.prototype,"playbackState",void 0),a([(0,o.V)((()=>{const t="motion-canvas-2d-frame";let e=document.querySelector(`#${t}`);return e||(e=document.createElement("div"),e.id=t,e.style.position="absolute",e.style.pointerEvents="none",e.style.top="0",e.style.left="0",e.style.opacity="0",e.style.overflow="hidden",document.body.prepend(e)),e.shadowRoot??e.attachShadow({mode:"open"})}))],l,"shadowRoot",void 0)},43595:(t,e,s)=>{"use strict";s.d(e,{j:()=>n});var i=s(30204),r=s(93091);function n(){return(t,e)=>{(0,r.td)()(t,e),(0,r.YS)(i.I)(t,e)}}},37060:(t,e,s)=>{"use strict";s.d(e,{I:()=>h});var i=s(3163),r=s(93091),n=s(5788),o=s(13170),a=s(46096),l=s(14455);function h(t){return(e,s)=>{const h=(0,r.J)(e,s);h.compound=!0,h.compoundEntries=Object.entries(t),(0,n.f)(e,(e=>{if(!h.parser)return void(0,i.wL)().error(`Missing parser decorator for "${s.toString()}"`);const r=new a.N(Object.keys(t),h.parser,h.default,h.interpolationFunction??o.o0,e);(0,l.I)(r,h.parser,e,s);const n=r.toSignal();for(const[t,s]of h.compoundEntries)(0,l.I)(n[t].context,void 0,e,s);e[s]=n}))}}},46350:(t,e,s)=>{"use strict";s.d(e,{F:()=>n});var i=s(5788),r=s(73662);function n(){return(t,e)=>{(0,i.f)(t,(t=>{const s=Object.getPrototypeOf(t)[e];t[e]=(0,r.D)(s.bind(t),t)}))}}},5788:(t,e,s)=>{"use strict";s.d(e,{f:()=>r,j:()=>n});const i=Symbol.for("@motion-canvas/2d/decorators/initializers");function r(t,e){if(t[i]){if(t[i]&&!Object.prototype.hasOwnProperty.call(t,i)){const e=Object.getPrototypeOf(t);t[i]=[...e[i]]}}else t[i]=[];t[i].push(e)}function n(t,e){if(t[i])try{t[i].forEach((s=>s(t,e)))}catch(s){throw s.inspect??(s.inspect=t.key),s}}},93091:(t,e,s)=>{"use strict";s.d(e,{E2:()=>v,J:()=>u,JI:()=>g,Oq:()=>b,RG:()=>d,Xd:()=>p,YS:()=>y,nn:()=>m,r_:()=>w,td:()=>f});var i=s(13170),r=s(5788),n=s(15688),o=s(3163),a=s(14455),l=s(16249);const h=Symbol.for("@motion-canvas/2d/decorators/properties");function c(t,e){var s;return(null==(s=t[h])?void 0:s[e])??null}function u(t,e){let s;return t[h]?t[h]&&!Object.prototype.hasOwnProperty.call(t,h)?t[h]=s=Object.fromEntries(Object.entries(t[h]).map((t=>{let[e,s]=t;return[e,{...s}]}))):s=t[h]:t[h]=s={},s[e]??(s[e]={cloneable:!0,inspectable:!0,compoundEntries:[]}),s[e]}function d(t){return t&&"object"==typeof t?t[h]??{}:{}}function p(t,e){(0,r.j)(t);for(const[s,i]of Object.entries(d(t))){const r=t[s];if(r.reset(),void 0!==e[s]&&r(e[s]),void 0!==i.compoundEntries)for(const[t,s]of i.compoundEntries)s in e&&r[t](e[s])}}function f(){return(t,e)=>{const s=u(t,e);(0,r.f)(t,(t=>{var r;const o=null==(r=t[`getDefault${(0,n.k)(e)}`])?void 0:r.bind(t),h=new l.V(o??s.default,s.interpolationFunction??i.o0,t);(0,a.I)(h,s.parser,t,e),t[e]=h.toSignal()}))}}function m(t){return(e,s)=>{const i=c(e,s);i?i.default=t:(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}function g(t){return(e,s)=>{const i=c(e,s);i?i.interpolationFunction=t:(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}function v(t){return(e,s)=>{const i=c(e,s);i?i.parser=t:(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}function y(t){return(e,s)=>{const i=c(e,s);i?(i.parser=e=>new t(e),"lerp"in t&&(i.interpolationFunction??(i.interpolationFunction=t.lerp))):(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}function w(t){return void 0===t&&(t=!0),(e,s)=>{const i=c(e,s);i?i.cloneable=t:(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}function b(t){return void 0===t&&(t=!0),(e,s)=>{const i=c(e,s);i?i.inspectable=t:(0,o.wL)().error(`Missing property decorator for "${s.toString()}"`)}}},53693:(t,e,s)=>{"use strict";s.d(e,{g:()=>o});var i=s(43188),r=s(37060),n=s(93091);function o(t){return(e,s)=>{(0,r.I)({top:t?`${t}Top`:"top",right:t?`${t}Right`:"right",bottom:t?`${t}Bottom`:"bottom",left:t?`${t}Left`:"left"})(e,s),(0,n.YS)(i.K)(e,s)}}},88104:(t,e,s)=>{"use strict";s.d(e,{y:()=>o});var i=s(29797),r=s(37060),n=s(93091);function o(t){return(e,s)=>{(0,r.I)("object"==typeof t?t:{x:t?`${t}X`:"x",y:t?`${t}Y`:"y"})(e,s),(0,n.YS)(i.F)(e,s)}}},15914:(t,e,s)=>{"use strict";s.d(e,{r:()=>T});var i=s(92673),r=s(82344),n=s(11726);var o=s(80638),a=s(5881),l=s(97140);class h{constructor(t){this.scene=t,this.signals={},this.variables={},this.handleReset=()=>{this.signals={}},t.onReset.subscribe(this.handleReset)}get(t,e){var s;return(s=this.signals)[t]??(s[t]=(0,l.g)(this.variables[t]??e)),()=>this.signals[t]()}updateSignals(t){this.variables=t,Object.keys(t).map((e=>{e in this.signals&&this.signals[e](t[e])}))}}var c,u=s(1323),d=s(96881),p=s(42075),f=s(67292),m=s(3163),g=s(97715);!function(t){t[t.BeforeRender=0]="BeforeRender",t[t.BeginRender=1]="BeginRender",t[t.FinishRender=2]="FinishRender",t[t.AfterRender=3]="AfterRender"}(c||(c={}));class v{get onBeforeRender(){return this.beforeRender.subscribable}get onBeginRender(){return this.beginRender.subscribable}get onFinishRender(){return this.finishRender.subscribable}get onAfterRender(){return this.afterRender.subscribable}constructor(t){this.scene=t,this.beforeRender=new d.p,this.beginRender=new d.p,this.finishRender=new d.p,this.afterRender=new d.p,this.scene.onRenderLifecycle.subscribe((t=>{let[e,s]=t;switch(e){case c.BeforeRender:return this.beforeRender.dispatch(s);case c.BeginRender:return this.beginRender.dispatch(s);case c.FinishRender:return this.finishRender.dispatch(s);case c.AfterRender:return this.afterRender.dispatch(s)}})),this.scene.onReset.subscribe((()=>{this.beforeRender.clear(),this.beginRender.clear(),this.finishRender.clear(),this.afterRender.clear()}))}}var y,w=s(23357);!function(t){t[t.Initial=0]="Initial",t[t.AfterTransitionIn=1]="AfterTransitionIn",t[t.CanTransitionOut=2]="CanTransitionOut",t[t.Finished=3]="Finished"}(y||(y={}));var b=s(76062),x=s(88733);class S{get onChanged(){return this.slides.subscribable}constructor(t){this.scene=t,this.slides=new u.G([]),this.lookup=new Map,this.collisionLookup=new Set,this.current=null,this.canResume=!1,this.waitsForId=null,this.targetId=null,this.handleReload=()=>{this.lookup.clear(),this.collisionLookup.clear(),this.current=null,this.waitsForId=null,this.targetId=null},this.handleReset=()=>{this.collisionLookup.clear(),this.current=null,this.waitsForId=null},this.handleRecalculated=()=>{this.slides.current=[...this.lookup.values()]},this.scene.onReloaded.subscribe(this.handleReload),this.scene.onReset.subscribe(this.handleReset),this.scene.onRecalculated.subscribe(this.handleRecalculated)}setTarget(t){this.targetId=t}resume(){this.canResume=!0}isWaitingFor(t){return this.waitsForId===t}isWaiting(){return null!==this.waitsForId}didHappen(t){if(null===this.current)return!1;for(const s of this.lookup.keys()){var e;if(s===t)return!0;if(s===(null==(e=this.current)?void 0:e.id))return!1}return!1}getCurrent(){return this.current}register(t,e){if(null!==this.waitsForId)throw new Error(`The animation already waits for a slide: ${this.waitsForId}.`);const s=this.toId(t);this.scene.playback.state!==x.q.Presenting&&(this.lookup.has(s)||this.lookup.set(s,{id:s,name:t,time:e,scene:this.scene,stack:(new Error).stack}),this.collisionLookup.has(t)?this.scene.logger.warn({message:`A slide named "${t}" already exists.`,stack:(new Error).stack}):this.collisionLookup.add(t)),this.waitsForId=s,this.current=this.lookup.get(s)??null,this.canResume=!1}shouldWait(t){const e=this.toId(t);if(this.waitsForId!==e)throw new Error(`The animation waits for a different slide: ${this.waitsForId}.`);if(!this.lookup.get(e))throw new Error(`Could not find the "${t}" slide.`);let s=this.canResume;return this.scene.playback.state!==x.q.Presenting&&(s=e!==this.targetId),s&&(this.waitsForId=null),!s}toId(t){return`${this.scene.name}:${t}`}}class k{get firstFrame(){return this.cache.current.firstFrame}get lastFrame(){return this.firstFrame+this.cache.current.duration}get onCacheChanged(){return this.cache.subscribable}get onReloaded(){return this.reloaded.subscribable}get onRecalculated(){return this.recalculated.subscribable}get onThreadChanged(){return this.thread.subscribable}get onRenderLifecycle(){return this.renderLifecycle.subscribable}get onReset(){return this.afterReset.subscribable}get LifecycleEvents(){return this.logger.warn("LifecycleEvents is deprecated. Use lifecycleEvents instead."),this.lifecycleEvents}get previous(){return this.previousScene}constructor(t){this.cache=new u.G({firstFrame:0,transitionDuration:0,duration:0,lastFrame:0}),this.reloaded=new d.p,this.recalculated=new d.p,this.thread=new u.G(null),this.renderLifecycle=new d.p,this.afterReset=new d.p,this.lifecycleEvents=new v(this),this.previousScene=null,this.runner=null,this.state=y.Initial,this.cached=!1,this.counters={},this.name=t.name,this.size=t.size,this.resolutionScale=t.resolutionScale,this.logger=t.logger,this.playback=t.playback,this.meta=t.meta,this.runnerFactory=t.config,this.creationStack=t.stack,(0,p.G)(this.runnerFactory,(0,f.C)(this.name)),this.timeEvents=new t.timeEventsClass(this),this.variables=new h(this),this.slides=new S(this),this.random=new n.k(this.meta.seed.get())}update(){}async render(t){let e=b.k.consumePromises(),s=0;do{s++,await Promise.all(e.map((t=>t.promise))),t.save();const i=w.b.fromSizeCentered(this.getSize());t.clearRect(i.x,i.y,i.width,i.height),this.execute((()=>this.draw(t))),t.restore(),e=b.k.consumePromises()}while(e.length>0&&s<10);s>1&&this.logger.debug(`render iterations: ${s}`)}reload(t){let{config:e,size:s,stack:i,resolutionScale:r}=void 0===t?{}:t;e&&(this.runnerFactory=e),s&&(this.size=s),r&&(this.resolutionScale=r),i&&(this.creationStack=i),this.cached=!1,this.reloaded.dispatch()}async recalculate(t){const e=this.cache.current;if(e.firstFrame=this.playback.frame,e.lastFrame=e.firstFrame+e.duration,this.isCached())return t(e.lastFrame),void(this.cache.current={...e});for(e.transitionDuration=-1,await this.reset();!this.canTransitionOut();)e.transitionDuration<0&&this.state===y.AfterTransitionIn&&(e.transitionDuration=this.playback.frame-e.firstFrame),t(this.playback.frame+1),await this.next();-1===e.transitionDuration&&(e.transitionDuration=0),e.lastFrame=this.playback.frame,e.duration=e.lastFrame-e.firstFrame,await new Promise((t=>setTimeout(t,0))),this.cached=!0,this.cache.current={...e},this.recalculated.dispatch()}async next(){if(!this.runner)return;let t=this.execute((()=>this.runner.next()));for(this.update();t.value;){if((0,o.x)(t.value)){const e=await t.value.toPromise();t=this.execute((()=>this.runner.next(e)))}else if((0,a.t)(t.value)){const e=await t.value;t=this.execute((()=>this.runner.next(e)))}else this.logger.warn({message:"Invalid value yielded by the scene.",object:t.value}),t=this.execute((()=>this.runner.next(t.value)));this.update()}const e=b.k.consumePromises();var s;e.length>0&&(await Promise.all(e.map((t=>t.promise))),this.logger.error({message:"Tried to access an asynchronous property before the node was ready. Make sure to yield the node before accessing the property.",stack:e[0].stack,inspect:(null==(s=e[0].owner)?void 0:s.key)??void 0}));t.done&&(this.state=y.Finished)}async reset(t){void 0===t&&(t=null),this.counters={},this.previousScene=t,this.random=new n.k(this.meta.seed.get()),this.runner=(0,a.C)((()=>this.runnerFactory(this.getView())),(t=>{this.thread.current=t})),this.state=y.AfterTransitionIn,this.afterReset.dispatch(),await this.next()}getSize(){return this.size}isAfterTransitionIn(){return this.state===y.AfterTransitionIn}canTransitionOut(){return this.state===y.CanTransitionOut||this.state===y.Finished}isFinished(){return this.state===y.Finished}enterInitial(){this.state===y.AfterTransitionIn?this.state=y.Initial:this.logger.warn(`Scene ${this.name} entered initial in an unexpected state: ${this.state}`)}enterAfterTransitionIn(){this.state===y.Initial?this.state=y.AfterTransitionIn:this.logger.warn(`Scene ${this.name} transitioned in an unexpected state: ${this.state}`)}enterCanTransitionOut(){this.state===y.AfterTransitionIn||this.state===y.Initial?this.state=y.CanTransitionOut:this.logger.warn(`Scene ${this.name} was marked as finished in an unexpected state: ${this.state}`)}isCached(){return this.cached}execute(t){let e;(0,m.DO)(this),(0,g.wA)(this.playback);try{e=t()}finally{(0,g.Mh)(this.playback),(0,m.ug)(this)}return e}}var C=s(29797),P=s(70419);class R extends k{constructor(t){super(t),this.view=null,this.registeredNodes={},this.nodeCounters={},this.recreateView()}getView(){return this.view}next(){var t;return null==(t=this.getView())||t.playbackState(this.playback.state),super.next()}draw(t){t.save(),this.renderLifecycle.dispatch([c.BeforeRender,t]),t.save(),this.renderLifecycle.dispatch([c.BeginRender,t]),this.getView().playbackState(this.playback.state),this.getView().render(t),this.renderLifecycle.dispatch([c.FinishRender,t]),t.restore(),this.renderLifecycle.dispatch([c.AfterRender,t]),t.restore()}reset(t){for(const s in this.registeredNodes)try{this.registeredNodes[s].dispose()}catch(e){this.logger.error(e)}return this.registeredNodes={},this.nodeCounters={},this.recreateView(),super.reset(t)}inspectPosition(t,e){return this.execute((()=>{var s;return(null==(s=this.getView().hit(new C.F(t,e).scale(this.resolutionScale)))?void 0:s.key)??null}))}validateInspection(t){var e;return(null==(e=this.getNode(t))?void 0:e.key)??null}inspectAttributes(t){const e=this.getNode(t);if(!e)return null;const s={stack:e.creationStack,key:e.key};for(const{key:i,meta:r,signal:n}of e)r.inspectable&&(s[i]=n());return s}drawOverlay(t,e,s){const i=this.getNode(t);i&&i.drawOverlay(s,e.scale(1/this.resolutionScale,1/this.resolutionScale).multiplySelf(i.localToWorld()))}registerNode(t,e){var s,i;const r=(null==(s=t.constructor)?void 0:s.name)??"unknown";(i=this.nodeCounters)[r]??(i[r]=0);const n=this.nodeCounters[r]++;return e??(e=`${this.name}/${r}[${n}]`),this.registeredNodes[e]=t,e}getNode(t){return"string"!=typeof t?null:this.registeredNodes[t]??null}recreateView(){this.execute((()=>{const t=this.getSize();this.view=new P.h({position:t.scale(this.resolutionScale/2),scale:this.resolutionScale,size:t})}))}}function T(t){return{klass:R,config:t,stack:(new Error).stack,meta:new i.v("scene",{version:new r.C("version",1),timeEvents:new r.C("time events",[]),seed:new r.C("seed",n.k.createSeed())})}}},11258:(t,e,s)=>{"use strict";s.d(e,{Nb:()=>S,av:()=>p,AE:()=>y,pS:()=>x,is:()=>v,Zy:()=>m,kZ:()=>b,Ao:()=>w,ho:()=>f});var i=s(93091),r=s(88104),n=s(46350),o=s(30204),a=s(93214),l=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class h{constructor(t){(0,i.Xd)(this,t)}canvasGradient(t){let e;switch(this.type()){case"linear":e=t.createLinearGradient(this.from.x(),this.from.y(),this.to.x(),this.to.y());break;case"conic":e=t.createConicGradient(this.angle(),this.from.x(),this.from.y());break;case"radial":e=t.createRadialGradient(this.from.x(),this.from.y(),this.fromRadius(),this.to.x(),this.to.y(),this.toRadius())}for(const{offset:s,color:i}of this.stops())e.addColorStop((0,a.P)(s)?s():s,new o.I((0,a.P)(i)?i():i).serialize());return e}}l([(0,i.nn)("linear"),(0,i.td)()],h.prototype,"type",void 0),l([(0,r.y)("from")],h.prototype,"from",void 0),l([(0,r.y)("to")],h.prototype,"to",void 0),l([(0,i.nn)(0),(0,i.td)()],h.prototype,"angle",void 0),l([(0,i.nn)(0),(0,i.td)()],h.prototype,"fromRadius",void 0),l([(0,i.nn)(0),(0,i.td)()],h.prototype,"toRadius",void 0),l([(0,i.nn)([]),(0,i.td)()],h.prototype,"stops",void 0),l([(0,n.F)()],h.prototype,"canvasGradient",null);var c=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class u{constructor(t){(0,i.Xd)(this,t)}canvasPattern(t){return t.createPattern(this.image(),this.repetition())}}c([(0,i.td)()],u.prototype,"image",void 0),c([(0,i.nn)(null),(0,i.td)()],u.prototype,"repetition",void 0),c([(0,n.F)()],u.prototype,"canvasPattern",null);var d=s(29797);function p(t){return null===t?null:t instanceof h||t instanceof u?t:new o.I(t)}function f(t,e){return null===t?"":t instanceof o.I?t.serialize():t instanceof h?t.canvasGradient(e):t instanceof u?t.canvasPattern(e)??"":""}function m(t,e,s,i,r){if(0===s.top&&0===s.right&&0===s.bottom&&0===s.left)return void function(t,e){t.rect(e.x,e.y,e.width,e.height)}(t,e);const n=g(s.top,s.right,s.left,e),o=g(s.right,s.top,s.bottom,e),a=g(s.bottom,s.left,s.right,e),l=g(s.left,s.bottom,s.top,e);if(i){const s=t=>t-t*r;return t.moveTo(e.left+n,e.top),t.lineTo(e.right-o,e.top),t.bezierCurveTo(e.right-s(o),e.top,e.right,e.top+s(o),e.right,e.top+o),t.lineTo(e.right,e.bottom-a),t.bezierCurveTo(e.right,e.bottom-s(a),e.right-s(a),e.bottom,e.right-a,e.bottom),t.lineTo(e.left+l,e.bottom),t.bezierCurveTo(e.left+s(l),e.bottom,e.left,e.bottom-s(l),e.left,e.bottom-l),t.lineTo(e.left,e.top+n),void t.bezierCurveTo(e.left,e.top+s(n),e.left+s(n),e.top,e.left+n,e.top)}t.moveTo(e.left+n,e.top),t.arcTo(e.right,e.top,e.right,e.bottom,o),t.arcTo(e.right,e.bottom,e.left,e.bottom,a),t.arcTo(e.left,e.bottom,e.left,e.top,l),t.arcTo(e.left,e.top,e.right,e.top,n)}function g(t,e,s,i){const r=t+e>i.width?i.width*(t/(t+e)):t,n=t+s>i.height?i.height*(t/(t+s)):t;return Math.min(r,n)}function v(t,e,s){const i=e.size.scale(.5);for(let r=0;r<=s;r++){const e=2*r*Math.PI/s,n=d.F.fromRadians(e).perpendicular.mul(i);0==r?w(t,n):b(t,n)}t.closePath()}function y(t,e,s,i){i?t.drawImage(e,s.x,s.y,s.width,s.height,i.x,i.y,i.width,i.height):t.drawImage(e,s.x,s.y,s.width,s.height)}function w(t,e){t.moveTo(e.x,e.y)}function b(t,e){t.lineTo(e.x,e.y)}function x(t,e){if(!(e.length<2)){w(t,e[0]);for(const s of e.slice(1))b(t,s)}}function S(t,e,s,i,r,n){void 0===i&&(i=0),void 0===r&&(r=2*Math.PI),void 0===n&&(n=!1),t.arc(e.x,e.y,s,i,r,n)}},14455:(t,e,s)=>{"use strict";s.d(e,{I:()=>r});var i=s(15688);function r(t,e,s,r){if(e&&t.setParser(e.bind(s)),r&&s){const e=null==s?void 0:s[`set${(0,i.k)(r)}`];e&&(t.set=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.apply(s,i),s});const n=null==s?void 0:s[`get${(0,i.k)(r)}`];n&&(t.get=n.bind(s));const o=null==s?void 0:s[`tween${(0,i.k)(r)}`];o&&(t.doTween=o.bind(s))}}},88733:(t,e,s)=>{"use strict";s.d(e,{q:()=>i,r:()=>n});var i,r=s(1323);!function(t){t[t.Playing=0]="Playing",t[t.Rendering=1]="Rendering",t[t.Paused=2]="Paused",t[t.Presenting=3]="Presenting"}(i||(i={}));class n{constructor(){this.frame=0,this.speed=1,this.fps=30,this.duration=0,this.finished=!1,this.slides=[],this.previousScene=null,this.state=i.Paused,this.currentSceneReference=null,this.scenes=new r.G([])}get onSceneChanged(){if(null===this.currentSceneReference)throw new Error("PlaybackManager has not been properly initialized");return this.currentSceneReference.subscribable}get onScenesRecalculated(){return this.scenes.subscribable}get currentScene(){if(null===this.currentSceneReference)throw new Error("PlaybackManager has not been properly initialized");return this.currentSceneReference.current}set currentScene(t){if(!t)throw new Error("Invalid scene.");this.currentSceneReference??(this.currentSceneReference=new r.G(t)),this.currentSceneReference.current=t}setup(t){this.scenes.current=t,this.currentScene=t[0]}async progress(){return this.finished=await this.next(),this.finished}async seek(t){if(t<=this.frame||this.currentScene.isCached()&&this.currentScene.lastFrame<t){const e=this.findBestScene(t);e!==this.currentScene?(this.previousScene=null,this.currentScene=e,this.frame=this.currentScene.firstFrame,await this.currentScene.reset()):this.frame>=t&&(this.previousScene=null,this.frame=this.currentScene.firstFrame,await this.currentScene.reset())}for(this.finished=!1;this.frame<t&&!this.finished;)this.finished=await this.next();return this.finished}async goBack(){let t=this.currentScene.slides.getCurrent();if(t&&this.currentScene.slides.isWaiting()){const e=this.slides.indexOf(t);t=this.slides[e-1]}await this.seekSlide(t)}async goForward(){const t=this.currentScene.slides.getCurrent(),e=this.slides.indexOf(t);await this.seekSlide(this.slides[e+1])}async goTo(t){await this.seekSlide(this.slides.find((e=>e.id===t)))}async seekSlide(t){if(void 0===t&&(t=null),!t)return;const{id:e,scene:s}=t;for((this.currentScene!==s||this.currentScene.slides.didHappen(e))&&(this.previousScene=null,this.currentScene=s,this.frame=this.currentScene.firstFrame,this.currentScene.slides.setTarget(e),await this.currentScene.reset()),this.finished=!1,this.currentScene.slides.setTarget(e);!this.currentScene.slides.isWaitingFor(e)&&!this.finished;)this.finished=await this.next();return this.currentScene.slides.setTarget(null),this.finished}async reset(){this.previousScene=null,this.currentScene=this.scenes.current[0],this.frame=0,await this.currentScene.reset()}reload(t){this.scenes.current.forEach((e=>e.reload(t)))}async recalculate(){this.previousScene=null,this.slides=[];const t=this.speed;this.frame=0,this.speed=1;const e=[];try{for(const t of this.scenes.current)await t.recalculate((t=>{this.frame=t})),this.slides.push(...t.slides.onChanged.current),e.push(t)}finally{this.speed=t}this.scenes.current=e,this.duration=this.frame}async next(){if(this.previousScene&&(await this.previousScene.next(),this.currentScene.isFinished()&&(this.previousScene=null)),this.frame+=this.speed,this.currentScene.isFinished())return!0;if(await this.currentScene.next(),this.previousScene&&this.currentScene.isAfterTransitionIn()&&(this.previousScene=null),this.currentScene.canTransitionOut()){this.previousScene=this.currentScene;const t=this.getNextScene(this.previousScene);t&&(this.currentScene=t,await this.currentScene.reset(this.previousScene)),t&&!this.currentScene.isAfterTransitionIn()||(this.previousScene=null)}return this.currentScene.isFinished()}findBestScene(t){let e=this.scenes.current[0];for(const s of this.scenes.current){if(!s.isCached()||s.lastFrame>t)return s;e=s}return e}getNextScene(t){const e=this.scenes.current;if(!t)return e[0];const s=e.findIndex((e=>e===t));return s<0?null:e[s+1]??null}}},2672:(t,e,s)=>{"use strict";s.d(e,{J:()=>m});var i=s(88733),r=s(1323),n=s(3163);class o{get onDataChanged(){return this.data.subscribable}constructor(t){this.logger=t,this.data=new r.G(null),this.context=new AudioContext,this.audioElement=new Audio,this.source=null,this.error=!1,this.abortController=null,this.offset=0}getTime(){return this.toAbsoluteTime(this.audioElement.currentTime)}setTime(t){this.audioElement.currentTime=this.toRelativeTime(t)}setOffset(t){this.offset=t}setMuted(t){this.audioElement.muted=t}setSource(t){var e;this.source=t,this.audioElement.src=t,null==(e=this.abortController)||e.abort(),this.abortController=new AbortController,this.loadData(this.abortController.signal).catch((t=>{"AbortError"!==t.name&&this.logger.error(t)}))}isInRange(t){return t>=this.offset&&t<this.audioElement.duration}toRelativeTime(t){return Math.max(0,t-this.offset)}toAbsoluteTime(t){return t+this.offset}isReady(){return this.source&&!this.error}async setPaused(t){if(this.source&&this.audioElement.paused!==t)if(t)this.audioElement.pause();else try{return await this.audioElement.play(),this.error=!1,!0}catch(e){this.error||(0,n.wL)().error(e),this.error=!0}return!1}async loadData(t){if(this.data.current=null,!this.source)return;const e=await fetch(this.source,{signal:t}),s=await e.arrayBuffer();if(t.aborted)return;const i=await this.decodeAudioData(s);if(t.aborted)return;const r=256,n=~~(i.length/r),o=[];let a=0;for(let l=0;l<i.numberOfChannels;l++){const t=i.getChannelData(l);for(let e=0;e<n;e++){const s=~~(e*r),i=~~(s+r);let n=t[s],h=n;for(let e=s;e<i;e++){const s=t[e];s>h&&(h=s),s<n&&(n=s)}(0===l||h>o[2*e])&&(o[2*e]=h),(0===l||n<o[2*e+1])&&(o[2*e+1]=n),h>a&&(a=h),Math.abs(n)>a&&(a=Math.abs(n))}}this.data.current={peaks:o,absoluteMax:a,length:n,sampleRate:i.sampleRate/r*2}}decodeAudioData(t){return new Promise(((e,s)=>this.context.decodeAudioData(t,e,s)))}}var a=s(13170),l=s(11395);class h extends l.p{async dispatch(t){await Promise.all(this.notifySubscribers(t))}}var c=s(96881),u=s(29797);class d{constructor(t){this.playback=t}secondsToFrames(t){return Math.ceil(t*this.playback.fps)}framesToSeconds(t){return t/this.playback.fps}get time(){return this.framesToSeconds(this.playback.frame)}get frame(){return this.playback.frame}get speed(){return this.playback.speed}get fps(){return this.playback.fps}get state(){return this.playback.state}}var p=s(15649);class f{get onChanged(){return this.events.subscribable}constructor(t){this.scene=t,this.events=new r.G([]),this.registeredEvents={},this.lookup={},this.collisionLookup=new Set,this.previousReference=[],this.didEventsChange=!1,this.preserveTiming=!0,this.handleReload=()=>{this.registeredEvents={},this.collisionLookup.clear()},this.handleRecalculated=()=>{var t;this.preserveTiming=!0,this.events.current=Object.values(this.registeredEvents),(this.didEventsChange||((null==(t=this.previousReference)?void 0:t.length)??0)!==this.events.current.length)&&(this.didEventsChange=!1,this.previousReference=Object.values(this.registeredEvents).map((t=>({name:t.name,targetTime:t.targetTime}))),this.scene.meta.timeEvents.set(this.previousReference))},this.handleReset=()=>{this.collisionLookup.clear()},this.handleMetaChanged=t=>{t!==this.previousReference&&(this.previousReference=t,this.load(t),this.scene.reload())},this.previousReference=t.meta.timeEvents.get(),this.load(this.previousReference),t.onReloaded.subscribe(this.handleReload),t.onRecalculated.subscribe(this.handleRecalculated),t.onReset.subscribe(this.handleReset),t.meta.timeEvents.onChanged.subscribe(this.handleMetaChanged,!1)}set(t,e,s){void 0===s&&(s=!0),this.lookup[t]&&this.lookup[t].offset!==e&&(this.preserveTiming=s,this.lookup[t]={...this.lookup[t],targetTime:this.lookup[t].initialTime+e,offset:e},this.registeredEvents[t]=this.lookup[t],this.events.current=Object.values(this.registeredEvents),this.didEventsChange=!0,this.scene.reload())}register(t,e){if(this.collisionLookup.has(t))return this.scene.logger.error({message:`name "${t}" has already been used for another event name.`,stack:(new Error).stack}),0;if(this.collisionLookup.add(t),this.lookup[t]){let s=!1;const i={...this.lookup[t]},r=(new Error).stack;i.stack!==r&&(i.stack=r,s=!0),i.initialTime!==e&&(i.initialTime=e,s=!0);const n=Math.max(0,i.targetTime-i.initialTime);this.preserveTiming&&i.offset!==n&&(i.offset=n,s=!0);const o=i.initialTime+i.offset;this.preserveTiming||i.targetTime===o||(this.didEventsChange=!0,i.targetTime=o,s=!0),s&&(this.lookup[t]=i)}else this.didEventsChange=!0,this.lookup[t]={name:t,initialTime:e,targetTime:e,offset:0,stack:(new Error).stack};return this.registeredEvents[t]=this.lookup[t],this.lookup[t].offset}load(t){for(const e of t){const t=this.lookup[e.name]??{name:e.name,initialTime:0,offset:0};this.lookup[e.name]={...t,targetTime:e.targetTime}}}}class m{get onRender(){return this.render.subscribable}get onStateChanged(){return this.playerState.subscribable}get onFrameChanged(){return this.frame.subscribable}get onDurationChanged(){return this.duration.subscribable}get onRecalculated(){return this.recalculated.subscribable}get startFrame(){return Math.min(this.playback.duration,this.status.secondsToFrames(this.startTime))}get endFrame(){return Math.min(this.playback.duration,this.status.secondsToFrames(this.endTime))}get finished(){return this.playback.finished||this.playback.frame>=this.endFrame}constructor(t,e,s,n){var a,l;void 0===e&&(e={}),void 0===s&&(s={}),void 0===n&&(n=-1),this.project=t,this.settings=e,this.initialState=s,this.initialFrame=n,this.render=new h,this.frame=new r.G(0),this.duration=new r.G(0),this.recalculated=new c.p,this.lock=new p.L,this.startTime=0,this.endTime=1/0,this.requestId=null,this.renderTime=0,this.requestedSeek=-1,this.requestedRecalculation=!0,this.active=!1,this.playerState=new r.G({loop:!0,muted:!0,speed:1,...s,paused:!0}),this.requestedSeek=n,this.logger=this.project.logger,this.playback=new i.r,this.status=new d(this.playback),this.audio=new o(this.logger),this.size=e.size??new u.F(1920,1080),this.resolutionScale=e.resolutionScale??1,this.startTime=(null==(a=e.range)?void 0:a[0])??0,this.endTime=(null==(l=e.range)?void 0:l[1])??1/0,this.playback.fps=e.fps??60,this.audio.setOffset(e.audioOffset??0),t.audio&&this.audio.setSource(t.audio);const m=[];for(const i of t.scenes){var g;const e=new i.klass({...i,playback:this.status,logger:this.project.logger,size:this.size,resolutionScale:this.resolutionScale,timeEventsClass:f});null==(g=i.onReplaced)||g.subscribe((t=>{e.reload(t)}),!1),e.onReloaded.subscribe((()=>this.requestRecalculation())),e.variables.updateSignals(t.variables??{}),m.push(e)}this.playback.setup(m),this.activate()}async configure(t){await this.lock.acquire();let e=this.playback.frame,s=!1;if(this.startTime=t.range[0],this.endTime=t.range[1],this.playback.fps!==t.fps){const i=t.fps/this.playback.fps;this.playback.fps=t.fps,e=Math.floor(e*i),s=!0}t.size.exactlyEquals(this.size)&&t.resolutionScale===this.resolutionScale||(this.size=t.size,this.resolutionScale=t.resolutionScale,this.playback.reload({size:this.size,resolutionScale:this.resolutionScale})),void 0!==t.audioOffset&&this.audio.setOffset(t.audioOffset),this.lock.release(),s&&(this.playback.reload(),this.frame.current=e,this.requestRecalculation(),this.requestedSeek=e)}requestSeek(t){this.requestedSeek=this.clampRange(t)}requestPreviousFrame(){this.requestedSeek=this.frame.current-this.playback.speed}requestNextFrame(){this.requestedSeek=this.frame.current+this.playback.speed}requestReset(){this.requestedSeek=0}toggleLoop(t){void 0===t&&(t=!this.playerState.current.loop),t!==this.playerState.current.loop&&(this.playerState.current={...this.playerState.current,loop:t})}togglePlayback(t){void 0===t&&(t=this.playerState.current.paused),t===this.playerState.current.paused&&(this.playerState.current={...this.playerState.current,paused:!t},t&&!this.playerState.current.loop&&this.playback.frame===this.playback.duration&&this.requestReset())}toggleAudio(t){void 0===t&&(t=this.playerState.current.muted),t===this.playerState.current.muted&&(this.playerState.current={...this.playerState.current,muted:!t})}setSpeed(t){t!==this.playerState.current.speed&&(this.playback.speed=t,this.playback.reload(),this.playerState.current={...this.playerState.current,speed:t},this.requestRecalculation())}setVariables(t){for(const e of this.playback.onScenesRecalculated.current)e.variables.updateSignals(t)}activate(){this.active=!0,this.request()}deactivate(){this.active=!1,null!==this.requestId&&(cancelAnimationFrame(this.requestId),this.requestId=null)}requestRecalculation(){this.requestedRecalculation=!0,this.request()}async prepare(){const t={...this.playerState.current,seek:this.requestedSeek};if(this.requestedSeek=-1,this.requestedRecalculation){t.seek<0&&(t.seek=this.playback.frame);try{await this.playback.recalculate(),this.duration.current=this.playback.frame,this.recalculated.dispatch()}catch(s){throw this.requestSeek(t.seek),s}finally{this.requestedRecalculation=!1}}(!t.loop&&this.finished&&!t.paused&&t.seek<0||this.endFrame===this.startFrame)&&(this.togglePlayback(!1),t.paused=!0),t.loop&&(t.seek>this.endFrame||this.finished&&!t.paused)&&this.startFrame!==this.endTime&&(t.seek=this.startFrame);const e=t.paused||this.finished||!this.audio.isInRange(this.status.time);return await this.audio.setPaused(e)&&this.syncAudio(-3),this.audio.setMuted(t.muted),t}async run(){const t=await this.prepare(),e=this.playback.state;if(this.playback.state=t.paused?i.q.Paused:i.q.Playing,t.seek>=0||!this.isInRange(this.status.frame)){const e=t.seek<0?this.status.frame:t.seek,s=this.clampRange(e);this.logger.profile("seek time"),await this.playback.seek(s),this.logger.profile("seek time"),this.syncAudio(-3)}else{if(t.paused||1===t.speed&&this.audio.isReady()&&this.audio.isInRange(this.status.time)&&this.audio.getTime()<this.status.time)return t.paused&&e!==i.q.Paused&&await this.render.dispatch(),!t.paused&&this.status.time>this.audio.getTime()+.02&&this.syncAudio(),void this.request();if(this.audio.isReady()&&1===t.speed&&this.audio.isInRange(this.status.time)&&this.status.framesToSeconds(this.playback.frame+1)<this.audio.getTime()-.02){const t=this.status.secondsToFrames(this.audio.getTime());await this.playback.seek(t)}else this.status.frame<this.endFrame&&(await this.playback.progress(),1!==t.speed&&this.syncAudio())}!t.paused&&this.playback.currentScene.slides.isWaiting()&&(this.togglePlayback(!1),t.paused=!0),await this.render.dispatch(),this.frame.current=this.playback.frame,this.request()}request(){this.active&&(this.requestId??(this.requestId=requestAnimationFrame((async t=>{if(this.requestId=null,t-this.renderTime>=1e3/(this.status.fps+5)){this.renderTime=t,await this.lock.acquire();try{await this.run()}catch(e){this.logger.error(e)}this.lock.release()}else this.request()}))))}clampRange(t){return(0,a.uZ)(this.startFrame,this.endFrame,t)}isInRange(t){return t>=this.startFrame&&t<=this.endFrame}syncAudio(t){void 0===t&&(t=0),this.audio.setTime(this.status.framesToSeconds(this.playback.frame+t))}}},9989:(t,e,s)=>{"use strict";s.d(e,{H:()=>n});var i=s(1119),r=s(29797);class n{get canvasSize(){return this.size.scale(this.resolutionScale)}constructor(){this.background=null,this.resolutionScale=1,this.colorSpace="srgb",this.size=r.F.zero,this.finalBuffer=document.createElement("canvas"),this.currentBuffer=document.createElement("canvas"),this.previousBuffer=document.createElement("canvas");const t=this.colorSpace;this.context=(0,i.f)({colorSpace:t},this.finalBuffer),this.currentContext=(0,i.f)({colorSpace:t},this.currentBuffer),this.previousContext=(0,i.f)({colorSpace:t},this.previousBuffer)}configure(t){let{colorSpace:e=this.colorSpace,size:s=this.size,resolutionScale:r=this.resolutionScale,background:n=this.background}=t;e!==this.colorSpace&&(this.colorSpace=e,this.context=(0,i.f)({colorSpace:e},this.finalBuffer),this.currentContext=(0,i.f)({colorSpace:e},this.currentBuffer),this.previousContext=(0,i.f)({colorSpace:e},this.previousBuffer)),s.exactlyEquals(this.size)&&r===this.resolutionScale||(this.resolutionScale=r,this.size=s,this.resizeCanvas(this.context),this.resizeCanvas(this.currentContext),this.resizeCanvas(this.previousContext)),this.background="string"==typeof n?n:(null==n?void 0:n.serialize())??null}async render(t,e){e&&(this.transformCanvas(this.previousContext),await e.render(this.previousContext)),this.transformCanvas(this.currentContext),await t.render(this.currentContext);const s=this.canvasSize;this.context.clearRect(0,0,s.width,s.height),this.background&&(this.context.save(),this.context.fillStyle=this.background,this.context.fillRect(0,0,s.width,s.height),this.context.restore()),e&&this.context.drawImage(this.previousBuffer,0,0),this.context.drawImage(this.currentBuffer,0,0)}transformCanvas(t){const e=this.canvasSize.scale(.5);t.setTransform(this.resolutionScale,0,0,this.resolutionScale,e.x,e.y)}resizeCanvas(t){const e=this.canvasSize;t.canvas.width=e.width,t.canvas.height=e.height}}},42075:(t,e,s)=>{"use strict";function i(t){const e={[t.name]:t},s=Object.getOwnPropertyDescriptor(e,t.name);if(s){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(let i=r.length-1;i>=0;i--)r[i](e,t.name,s)}}s.d(e,{G:()=>i})},79116:(t,e,s)=>{"use strict";s.d(e,{V:()=>r});const i=Symbol.for("@motion-canvas/core/decorators/UNINITIALIZED");function r(t){return(e,s)=>{let r=i;Object.defineProperty(e,s,{get(){return r===i&&(r=t.call(this)),r}})}}},67292:(t,e,s)=>{"use strict";function i(t){return function(e,s,i){i.value.prototype.name=t??s,i.value.prototype.threadable=!0}}s.d(e,{C:()=>i})},96881:(t,e,s)=>{"use strict";s.d(e,{p:()=>r});var i=s(11395);class r extends i.p{dispatch(t){this.notifySubscribers(t)}}},11395:(t,e,s)=>{"use strict";s.d(e,{l:()=>r,p:()=>i});class i{constructor(){this.subscribable=new r(this),this.subscribers=new Set}subscribe(t){return this.subscribers.add(t),()=>this.unsubscribe(t)}unsubscribe(t){this.subscribers.delete(t)}clear(){this.subscribers.clear()}notifySubscribers(t){return[...this.subscribers].map((e=>e(t)))}}class r{constructor(t){this.dispatcher=t}subscribe(t){return this.dispatcher.subscribe(t)}unsubscribe(t){this.dispatcher.unsubscribe(t)}}},1323:(t,e,s)=>{"use strict";s.d(e,{G:()=>r});var i=s(11395);class r extends i.p{set current(t){this.value=t,this.notifySubscribers(t)}get current(){return this.value}constructor(t){super(),this.value=t,this.subscribable=new n(this)}subscribe(t,e){void 0===e&&(e=!0);const s=super.subscribe(t);return e&&t(this.value),s}}class n extends i.l{get current(){return this.dispatcher.current}subscribe(t,e){return void 0===e&&(e=!0),this.dispatcher.subscribe(t,e)}}},5376:(t,e,s)=>{"use strict";s.d(e,{$:()=>o});var i=s(51284),r=s(42075),n=s(67292);function*o(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(const i of e)yield i;yield*(0,i.v)(...e)}(0,r.G)(o,(0,n.C)())},77396:(t,e,s)=>{"use strict";s.d(e,{K:()=>r});var i=s(75168);function r(t,e){let s;return"string"==typeof t?(s=e(),(0,i.i)(s,t)):(s=t(),(0,i.i)(s,s)),s}},82344:(t,e,s)=>{"use strict";s.d(e,{C:()=>r});var i=s(1323);class r{get onChanged(){return this.value.subscribable}constructor(t,e){this.name=t,this.value=new i.G(e)}get(){return this.value.current}set(t){this.value.current=this.parse(t)}parse(t){return t}serialize(){return this.value.current}clone(){return new this.constructor(this.name,this.get())}}},92673:(t,e,s)=>{"use strict";s.d(e,{v:()=>n});var i=s(82344);class r extends i.C{constructor(t,e){const s=new Map(Object.entries(e));super(t,Object.fromEntries(Array.from(s,(t=>{let[e,s]=t;return[e,s.get()]})))),this.ignoreChange=!1,this.customFields={},this.handleChange=()=>{this.ignoreChange||(this.value.current=this.transform("get"))},this.fields=s;for(const[i,r]of this.fields)Object.defineProperty(this,i,{value:r}),r.onChanged.subscribe(this.handleChange)}set(t){this.ignoreChange=!0;for(const[e,s]of Object.entries(t)){const t=this.fields.get(e);t?t.set(s):this.customFields[e]=s}this.ignoreChange=!1,this.handleChange()}serialize(){return this.transform("serialize")}clone(){return new this.constructor(this.name,this.transform("clone"))}transform(t){return{...Object.fromEntries(Array.from(this.fields,(e=>{let[s,i]=e;return[s,i[t]()]}))),...this.customFields}}}const n=r},11726:(t,e,s)=>{"use strict";s.d(e,{k:()=>n});var i=s(13170),r=s(37762);class n{constructor(t){this.state=t}static createSeed(){return Math.floor(4294967296*Math.random())}nextFloat(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),(0,i.UI)(t,e,this.next())}nextInt(t,e){void 0===t&&(t=0),void 0===e&&(e=4294967296);let s=Math.floor((0,i.UI)(t,e,this.next()));return s===e&&(s=t),s}floatArray(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),(0,r.w)(t).map((()=>this.nextFloat(e,s)))}intArray(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=4294967296),(0,r.w)(t).map((()=>this.nextInt(e,s)))}spawn(){return new n(this.nextInt())}next(){this.state|=0,this.state=this.state+1831565813|0;let t=Math.imul(this.state^this.state>>>15,1|this.state);return t=t+Math.imul(t^t>>>7,61|t)^t,((t^t>>>14)>>>0)/4294967296}}},46096:(t,e,s)=>{"use strict";s.d(e,{N:()=>o});var i=s(13170),r=s(16249),n=s(93214);class o extends r.V{constructor(t,e,s,o,a){void 0===a&&(a=void 0),super(void 0,o,a),this.entries=t,this.signals=[],this.parser=e;for(const l of t){const t=new r.V((0,n.P)(s)?()=>e(s())[l]:e(s)[l],i.UI,a??this.invokable).toSignal();this.signals.push([l,t]),Object.defineProperty(this.invokable,l,{value:t})}}toSignal(){return this.invokable}parse(t){return this.parser(t)}get(){return this.parse(Object.fromEntries(this.signals.map((t=>{let[e,s]=t;return[e,s()]}))))}set(t){if((0,n.P)(t))for(const[e,s]of this.signals)s((()=>this.parser(t())[e]));else{const e=this.parse(t);for(const[t,s]of this.signals)s(e[t])}return this.owner}reset(){for(const[,t]of this.signals)t.reset();return this.owner}save(){for(const[,t]of this.signals)t.save();return this.owner}}},81865:(t,e,s)=>{"use strict";s.d(e,{h:()=>o});var i=s(3163),r=s(90031),n=s(76062);class o extends n.k{constructor(t,e){super(e),this.factory=t,this.markDirty()}toSignal(){return this.invokable}dispose(){super.dispose(),this.last=void 0}invoke(){if(this.event.isRaised()){this.clearDependencies(),this.startCollecting();try{this.last=this.factory(...arguments)}catch(e){var t;(0,i.wL)().error({...(0,r.d)(e),inspect:null==(t=this.owner)?void 0:t.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}}},76062:(t,e,s)=>{"use strict";s.d(e,{k:()=>o});var i=s(11395);class r extends i.p{constructor(){super(...arguments),this.value=!1}raise(){this.value||(this.value=!0,this.notifySubscribers())}reset(){this.value=!1}isRaised(){return this.value}subscribe(t){const e=super.subscribe(t);return this.value&&t(),e}}var n=s(49111);class o{static collectPromise(t,e){void 0===e&&(e=null);const s={promise:t,value:e,stack:(new Error).stack},i=this.collectionStack.at(-1);return i&&(s.owner=i.owner),t.then((t=>{s.value=t,null==i||i.markDirty()})),this.promises.push(s),s}static consumePromises(){const t=this.promises;return this.promises=[],t}constructor(t){this.owner=t,this.dependencies=new Set,this.event=new r,this.markDirty=()=>this.event.raise(),this.invokable=this.invoke.bind(this),Object.defineProperty(this.invokable,"context",{value:this}),Object.defineProperty(this.invokable,"toPromise",{value:this.toPromise.bind(this)})}invoke(){}startCollecting(){if(o.collectionSet.has(this))throw new n.t("A circular dependency occurred between signals.","This can happen when signals reference each other in a loop.\n        Try using the attached stack trace to locate said loop.");o.collectionSet.add(this),o.collectionStack.push(this)}finishCollecting(){if(o.collectionSet.delete(this),o.collectionStack.pop()!==this)throw new Error("collectStart/collectEnd was called out of order.")}clearDependencies(){this.dependencies.forEach((t=>t.unsubscribe(this.markDirty))),this.dependencies.clear()}collect(){const t=o.collectionStack.at(-1);t&&(t.dependencies.add(this.event.subscribable),this.event.subscribe(t.markDirty))}dispose(){this.clearDependencies(),this.event.clear(),this.owner=null}async toPromise(){let t=o.consumePromises();do{await Promise.all(t.map((t=>t.promise))),this.invokable(),t=o.consumePromises()}while(t.length>0);return this.invokable}}o.collectionSet=new Set,o.collectionStack=[],o.promises=[]},16249:(t,e,s)=>{"use strict";s.d(e,{V:()=>u});var i=s(97074),r=s(74534),n=s(3163),o=s(90031),a=s(77396),l=s(76062),h=s(93214),c=s(60771);class u extends l.k{constructor(t,e,s){void 0===s&&(s=void 0),super(s),this.initial=t,this.interpolation=e,this.parser=t=>t,Object.defineProperty(this.invokable,"reset",{value:this.reset.bind(this)}),Object.defineProperty(this.invokable,"save",{value:this.save.bind(this)}),Object.defineProperty(this.invokable,"isInitial",{value:this.isInitial.bind(this)}),void 0!==this.initial&&(this.current=this.initial,this.markDirty(),(0,h.P)(this.initial)||(this.last=this.parse(this.initial)))}toSignal(){return this.invokable}parse(t){return this.parser(t)}wrap(t){return(0,h.P)(t)?()=>this.parse(t()):this.parse(t)}setInitial(t){this.initial=t}setParser(t){this.parser=t,void 0===this.current||(0,h.P)(this.current)||(this.last=this.parse(this.current)),this.markDirty()}set(t){return t===c.T&&(t=this.initial),this.current===t||(this.current=t,this.markDirty(),this.clearDependencies(),(0,h.P)(t)||(this.last=this.parse(t))),this.owner}get(){if(this.event.isRaised()&&(0,h.P)(this.current)){this.clearDependencies(),this.startCollecting();try{this.last=this.parse(this.current())}catch(e){var t;(0,n.wL)().error({...(0,o.d)(e),inspect:null==(t=this.owner)?void 0:t.key})}this.finishCollecting()}return this.event.reset(),this.collect(),this.last}invoke(t,e,s,r){return void 0===s&&(s=i.qb),void 0===r&&(r=this.interpolation),void 0===t?this.get():void 0===e?this.set(t):this.makeAnimate(s,r)(t,e)}makeAnimate(t,e,s){var i=this;return function(r,n,o,l){void 0===o&&(o=t),void 0===l&&(l=e);const h=i.tween(r,n,o,l);let c=h;return s&&(c=(0,a.K)((function*(){yield*s,yield*h}))),c.to=i.makeAnimate(o,l,c),c}}*tween(t,e,s,i){t===c.T&&(t=this.initial),yield*this.doTween(this.parse((0,h.P)(t)?t():t),e,s,i),this.set(t)}*doTween(t,e,s,i){const n=this.get();yield*(0,r.i)(e,(e=>{this.set(i(n,t,s(e)))}))}dispose(){super.dispose(),this.initial=void 0,this.current=void 0,this.last=void 0}reset(){return void 0!==this.initial&&this.set(this.initial),this.owner}save(){return this.set(this.get())}isInitial(){return this.collect(),this.current===this.initial}raw(){return this.current}}},73662:(t,e,s)=>{"use strict";s.d(e,{D:()=>r});var i=s(81865);function r(t,e){return new i.h(t,e).toSignal()}},97140:(t,e,s)=>{"use strict";s.d(e,{g:()=>n});var i=s(13170),r=s(16249);function n(t,e,s){return void 0===e&&(e=i.o0),new r.V(t,e,s).toSignal()}},93214:(t,e,s)=>{"use strict";function i(t){return"function"==typeof t}s.d(e,{P:()=>i})},60771:(t,e,s)=>{"use strict";s.d(e,{T:()=>i});const i=Symbol.for("@motion-canvas/core/signals/default")},50580:(t,e,s)=>{"use strict";s.d(e,{j:()=>o});var i=s(56632),r=s(97140),n=s(75168);class o{get fixed(){return this.fixedTime}get canceled(){var t;return this.isCanceled||((null==(t=this.parent)?void 0:t.canceled)??!1)}constructor(t){this.runner=t,this.children=[],this.time=(0,r.g)(0),this.parent=null,this.isCanceled=!1,this.fixedTime=0}next(){(0,i.h$)(this);const t=this.runner.next(this.value);return(0,i.kw)(this),this.value=null,t}update(t){this.time(this.time()+t),this.fixedTime+=t,this.children=this.children.filter((t=>!t.canceled))}add(t){t.cancel(),t.parent=this,t.isCanceled=!1,t.time(this.time()),t.fixedTime=this.fixedTime,this.children.push(t),(0,n.i)(t.runner,`unknown ${this.children.length}`)}cancel(){this.isCanceled=!0,this.parent=null}}},80638:(t,e,s)=>{"use strict";function i(t){return t&&("object"==typeof t||"function"==typeof t)&&"toPromise"in t}function r(t){return null!==t&&"object"==typeof t&&Symbol.iterator in t&&"next"in t}s.d(e,{R:()=>r,x:()=>i})},51284:(t,e,s)=>{"use strict";s.d(e,{v:()=>o});var i=s(42075),r=s(67292),n=s(56632);function*o(t){let e=!0;for(var s=arguments.length,i=new Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];"boolean"==typeof t?e=t:i.push(t);const o=(0,n.nn)(),a=i.map((t=>o.children.find((e=>e.runner===t)))).filter((t=>t)),l=o.time();let h;if(e){for(;a.find((t=>!t.canceled));)yield;h=Math.max(...a.map((t=>t.time())))}else{for(;!a.find((t=>t.canceled));)yield;const t=a.filter((t=>t.canceled));h=Math.min(...t.map((t=>t.time())))}o.time(Math.max(l,h))}(0,i.G)(o,(0,r.C)())},75168:(t,e,s)=>{"use strict";function i(t,e){const s=Object.getPrototypeOf(t);s.threadable||(s.threadable=!0,s.name="string"==typeof e?e:r(e))}function r(t){return Object.getPrototypeOf(t).name??null}s.d(e,{i:()=>i,z:()=>r})},5881:(t,e,s)=>{"use strict";s.d(e,{C:()=>c,t:()=>h});var i=s(42075),r=s(67292),n=s(50580),o=s(80638),a=s(75168),l=s(97715);function h(t){return"function"==typeof(null==t?void 0:t.then)}function*c(t,e){const s=(0,l.te)(),i=t();(0,a.i)(i,"root");const r=new n.j(i);null==e||e(r);let h=[r];for(;h.length>0;){const t=[],e=[...h],i=s.framesToSeconds(1)*s.speed;for(;e.length>0;){const s=e.pop();if(!s||s.canceled)continue;const r=s.next();if(r.done)s.cancel();else if((0,o.R)(r.value)){const t=new n.j(r.value);s.value=r.value,s.add(t),e.push(s),e.push(t)}else r.value?(s.value=yield r.value,e.push(s)):(s.update(i),t.unshift(s))}h=t.filter((t=>!t.canceled)),h.length>0&&(yield)}}(0,i.G)(c,(0,r.C)())},13170:(t,e,s)=>{"use strict";s.d(e,{JC:()=>n,UI:()=>a,Vz:()=>u,a2:()=>l,o0:()=>o,uZ:()=>h,vl:()=>c});var i=s(3163),r=s(29797);function n(t,e,s){if(e.length>=t.length){const i=Math.floor(e.length*s),r=Math.floor(a(t.length-1,e.length,s));let n="";for(let s=0;s<e.length;s++)s<i?n+=e[s]:(t[s]||s<=r)&&(n+=t[s]??e[s]);return n}{const i=Math.round(t.length*(1-s)),r=Math.floor(a(t.length+1,e.length,s)),n=[];for(let s=t.length-1;s>=0;s--)s<i?n.unshift(t[s]):(e[s]||s<r)&&n.unshift(e[s]??t[s]);return n.join("")}}function o(t,e,s,r){if(void 0===r&&(r=!1),0===s)return t;if(1===s)return e;if(null!=t&&null!=e){if("number"==typeof t&&"number"==typeof e)return a(t,e,s);if("string"==typeof t&&"string"==typeof e)return n(t,e,s);if("boolean"==typeof t&&"boolean"==typeof e)return s<.5?t:e;if("lerp"in t)return t.lerp(e,s);if(t&&e&&"object"==typeof t&&"object"==typeof e)if(Array.isArray(t)&&Array.isArray(e)){if(t.length===e.length)return t.map(((t,i)=>o(t,e[i],s)))}else{let i=!1;if(t instanceof Map||e instanceof Map||(i=!0,t=new Map(Object.entries(t)),e=new Map(Object.entries(e))),t instanceof Map&&e instanceof Map){const r=new Map;for(const i of new Set([...t.keys(),...e.keys()])){const n=o(t.get(i),e.get(i),s,!0);void 0!==n&&r.set(i,n)}return i?Object.fromEntries(r):r}}return e}r||(0,i.wL)().warn(`Attempting to lerp ${t} -> ${e} may result in unexpected behavior.`)}function a(t,e,s){return t+(e-t)*s}function l(t,e,s,i,r){return s+(r-t)*(i-s)/(e-t)}function h(t,e,s){return s<t?t:s>e?e:s}function c(t,e,s,i,r){const n=l(t,e,s,i,r);return s>i&&([s,i]=[i,s]),h(s,i,n)}function u(t,e,s){let i=e;s>1?s=1/s:i=!i;const n=a(i?Math.acos(h(-1,1,1-t)):Math.asin(t),a(0,Math.PI/2,t),s);let o=Math.sin(n),l=1-Math.cos(n);return e&&([o,l]=[l,o]),new r.F(o,l)}},97074:(t,e,s)=>{"use strict";s.d(e,{BH:()=>D,Bl:()=>F,C6:()=>N,FG:()=>l,Fs:()=>a,GE:()=>j,Ge:()=>P,Ij:()=>L,J7:()=>g,Kx:()=>I,Mg:()=>k,N1:()=>n,O$:()=>r,Q9:()=>u,SJ:()=>q,UE:()=>_,Y3:()=>m,Yw:()=>A,ad:()=>x,cv:()=>Z,du:()=>z,eE:()=>W,e_:()=>b,ei:()=>C,en:()=>U,g4:()=>f,hN:()=>S,hl:()=>h,j$:()=>R,jv:()=>O,lj:()=>T,mC:()=>B,n5:()=>v,pl:()=>y,qS:()=>E,qb:()=>p,rz:()=>w,sK:()=>$,to:()=>c,vh:()=>o,w2:()=>d,zk:()=>M});var i=s(13170);function r(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),(0,i.a2)(-1,1,e,s,Math.sin(t))}function n(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.cos(t*Math.PI/2),(0,i.UI)(e,s,t)}function o(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=Math.sin(t*Math.PI/2),(0,i.UI)(e,s,t)}function a(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=-(Math.cos(Math.PI*t)-1)/2,(0,i.UI)(e,s,t)}function l(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t*=t,(0,i.UI)(e,s,t)}function h(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.pow(1-t,2),(0,i.UI)(e,s,t)}function c(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,(0,i.UI)(e,s,t)}function u(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t*=t*t,(0,i.UI)(e,s,t)}function d(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.pow(1-t,3),(0,i.UI)(e,s,t)}function p(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,(0,i.UI)(e,s,t)}function f(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t*=t*t*t,(0,i.UI)(e,s,t)}function m(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.pow(1-t,4),(0,i.UI)(e,s,t)}function g(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,(0,i.UI)(e,s,t)}function v(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t*=t*t*t*t,(0,i.UI)(e,s,t)}function y(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.pow(1-t,5),(0,i.UI)(e,s,t)}function w(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,(0,i.UI)(e,s,t)}function b(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=0===t?0:Math.pow(2,10*t-10),(0,i.UI)(e,s,t)}function x(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1===t?1:1-Math.pow(2,-10*t),(0,i.UI)(e,s,t)}function S(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=0===t?0:1===t?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,(0,i.UI)(e,s,t)}function k(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=1-Math.sqrt(1-Math.pow(t,2)),(0,i.UI)(e,s,t)}function C(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=Math.sqrt(1-Math.pow(t-1,2)),(0,i.UI)(e,s,t)}function P(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),t=t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,(0,i.UI)(e,s,t)}function R(t){return void 0===t&&(t=1.70158),function(e,s,r){return void 0===s&&(s=0),void 0===r&&(r=1),e=(t+1)*e*e*e-t*e*e,(0,i.UI)(s,r,e)}}function T(t){return void 0===t&&(t=1.70158),function(e,s,r){return void 0===s&&(s=0),void 0===r&&(r=1),e=1+(t+1)*Math.pow(e-1,3)+t*Math.pow(e-1,2),(0,i.UI)(s,r,e)}}function F(t,e){return void 0===t&&(t=1.70158),void 0===e&&(e=1.525),function(s,r,n){return void 0===r&&(r=0),void 0===n&&(n=1),s=s<.5?Math.pow(2*s,2)*(2*(t*e+1)*s-t*e)/2:(Math.pow(2*s-2,2)*((t*e+1)*(2*s-2)+t*e)+2)/2,(0,i.UI)(r,n,s)}}function E(t){return void 0===t&&(t=2.094395),function(e,s,r){return void 0===s&&(s=0),void 0===r&&(r=1),e=0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*t),(0,i.UI)(s,r,e)}}function I(t){return void 0===t&&(t=2.094395),function(e,s,r){return void 0===s&&(s=0),void 0===r&&(r=1),e=0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1,(0,i.UI)(s,r,e)}}function z(t){return void 0===t&&(t=1.39626),function(e,s,r){return void 0===s&&(s=0),void 0===r&&(r=1),e=0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1,(0,i.UI)(s,r,e)}}function O(t,e){void 0===t&&(t=7.5625),void 0===e&&(e=2.75);const s=M(t,e);return function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),1-s(1-t,e,i)}}function M(t,e){return void 0===t&&(t=7.5625),void 0===e&&(e=2.75),function(s,r,n){return void 0===r&&(r=0),void 0===n&&(n=1),s<1/e?s*=t*s:s=s<2/e?t*(s-=1.505/e)*s+.75:s<2.5/e?t*(s-=2.25/e)*s+.9375:t*(s-=2.625/e)*s+.984375,(0,i.UI)(r,n,s)}}function L(t,e){void 0===t&&(t=7.5625),void 0===e&&(e=2.75);const s=M(t,e);return function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1),t<.5?(1-s(1-2*t,e,i))/2:(1+s(2*t-1,e,i))/2}}function j(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),(0,i.UI)(e,s,t)}function B(t,e,s){return void 0===e&&(e=0),void 0===s&&(s=1),(0,i.a2)(-1,1,e,s,Math.cos(t))}const A=R(),_=T(),D=F(),q=O(),N=M(),U=L(),W=E(),$=I(),Z=z()},74534:(t,e,s)=>{"use strict";s.d(e,{i:()=>o});var i=s(42075),r=s(67292),n=s(56632);function*o(t,e,s){const i=(0,n.nn)(),r=i.time(),o=i.time()+t;for(e(0,0);o>i.fixed;){const s=i.fixed-r;s>0&&e(s/t,s),yield}i.time(o),e(1,t),null==s||s(1,t)}(0,i.G)(o,(0,r.C)())},23357:(t,e,s)=>{"use strict";s.d(e,{b:()=>o});var i=s(29797),r=s(13170),n=s(46096);class o{static createSignal(t,e){return void 0===e&&(e=o.lerp),new n.N(["x","y","width","height"],(t=>new o(t)),t,e).toSignal()}static lerp(t,e,s){let n,a,l,h;return"number"==typeof s?n=a=l=h=s:s instanceof i.F?(n=l=s.x,a=h=s.y):(n=s.x,a=s.y,l=s.width,h=s.height),new o((0,r.UI)(t.x,e.x,n),(0,r.UI)(t.y,e.y,a),(0,r.UI)(t.width,e.width,l),(0,r.UI)(t.height,e.height,h))}static arcLerp(t,e,s,i,n){return void 0===i&&(i=!1),n??(n=(t.position.sub(e.position).ctg+t.size.sub(e.size).ctg)/2),o.lerp(t,e,(0,r.Vz)(s,i,n))}static fromSizeCentered(t){return new o(-t.width/2,-t.height/2,t.width,t.height)}static fromPoints(){let t=1/0,e=1/0,s=-1/0,i=-1/0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(const o of n)o.x>s&&(s=o.x),o.x<t&&(t=o.x),o.y>i&&(i=o.y),o.y<e&&(e=o.y);return new o(t,e,s-t,i-e)}static fromBBoxes(){let t=1/0,e=1/0,s=-1/0,i=-1/0;for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];for(const o of n){const r=o.x+o.width;r>s&&(s=r),o.x<t&&(t=o.x);const n=o.y+o.height;n>i&&(i=n),o.y<e&&(e=o.y)}return new o(t,e,s-t,i-e)}lerp(t,e){return o.lerp(this,t,e)}get position(){return new i.F(this.x,this.y)}set position(t){this.x=t.x,this.y=t.y}get size(){return new i.F(this.width,this.height)}get center(){return new i.F(this.x+this.width/2,this.y+this.height/2)}get left(){return this.x}set left(t){this.width+=this.x-t,this.x=t}get right(){return this.x+this.width}set right(t){this.width=t-this.x}get top(){return this.y}set top(t){this.height+=this.y-t,this.y=t}get bottom(){return this.y+this.height}set bottom(t){this.height=t-this.y}get topLeft(){return this.position}get topRight(){return new i.F(this.x+this.width,this.y)}get bottomLeft(){return new i.F(this.x,this.y+this.height)}get bottomRight(){return new i.F(this.x+this.width,this.y+this.height)}get corners(){return[this.topLeft,this.topRight,this.bottomRight,this.bottomLeft]}get pixelPerfect(){return new o(Math.floor(this.x),Math.floor(this.y),Math.ceil(this.width+1),Math.ceil(this.height+1))}constructor(t,e,s,r){if(void 0===e&&(e=0),void 0===s&&(s=0),void 0===r&&(r=0),this.x=0,this.y=0,this.width=0,this.height=0,null!=t){if("number"==typeof t)return this.x=t,this.y=e,this.width=s,void(this.height=r);if(t instanceof i.F)return this.x=t.x,this.y=t.y,void(e instanceof i.F&&(this.width=e.x,this.height=e.y));if(Array.isArray(t))return this.x=t[0],this.y=t[1],this.width=t[2],void(this.height=t[3]);this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height}}transform(t){return new o(this.position.transformAsPoint(t),this.size.transform(t))}transformCorners(t){return this.corners.map((e=>e.transformAsPoint(t)))}expand(t){return new o(this.x-t,this.y-t,this.width+2*t,this.height+2*t)}addSpacing(t){const e=new o(this);return e.left-=t.left,e.top-=t.top,e.right+=t.right,e.bottom+=t.bottom,e}includes(t){return t.x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height}intersects(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top}intersection(t){const e=new o;return this.intersects(t)&&(e.left=Math.max(this.left,t.left),e.top=Math.max(this.top,t.top),e.right=Math.min(this.right,t.right),e.bottom=Math.min(this.bottom,t.bottom)),e}toSymbol(){return o.symbol}serialize(){return{x:this.x,y:this.y,width:this.width,height:this.height}}}o.symbol=Symbol.for("@motion-canvas/core/types/Rect")},30204:(t,e,s)=>{"use strict";s.d(e,{I:()=>i.Color});var i=s(5392),r=s(16249);i.Color.symbol=i.Color.prototype.symbol=Symbol.for("@motion-canvas/core/types/Color"),i.Color.lerp=i.Color.prototype.lerp=function(t,e,s,r){void 0===r&&(r="lch"),"string"==typeof t&&(t=new i.Color(t)),"string"==typeof e&&(e=new i.Color(e));const n=t instanceof i.Color,o=e instanceof i.Color;return n||(t=o?e.alpha(0):new i.Color("rgba(0, 0, 0, 0)")),o||(e=n?t.alpha(0):new i.Color("rgba(0, 0, 0, 0)")),(0,i.mix)(t,e,s,r)},i.Color.createLerp=i.Color.prototype.createLerp=t=>(e,s,r)=>i.Color.lerp(e,s,r,t),i.Color.createSignal=function(t,e){void 0===e&&(e=i.Color.lerp);const s=new r.V(t,e);return s.setParser((t=>new i.Color(t))),s.toSignal()},i.Color.prototype.toSymbol=()=>i.Color.symbol,i.Color.prototype.serialize=function(){return this.css()},i.Color.prototype.lerp=function(t,e,s){return i.Color.lerp(this,t,e,s)}},74741:(t,e,s)=>{"use strict";s.d(e,{$H:()=>n,Ib:()=>r,X6:()=>o});var i=s(29797);const r=1e-6;function n(t,e){const s=t/180*Math.PI;return 180*i.F.fromRadians(s).transform(e).radians/Math.PI}function o(t,e){return Math.sqrt(e.m11*e.m11+e.m12*e.m12)*t}},98378:(t,e,s)=>{"use strict";s.d(e,{M5:()=>i,Nm:()=>r,WS:()=>l,aP:()=>n,lk:()=>a});var i,r,n,o=s(29797);function a(t,e){return void 0===e&&(e=i.Horizontal|i.Vertical),e&i.Vertical&&(t&r.Top?t=t&~r.Top|r.Bottom:t&r.Bottom&&(t=t&~r.Bottom|r.Top)),e&i.Horizontal&&(t&r.Left?t=t&~r.Left|r.Right:t&r.Right&&(t=t&~r.Right|r.Left)),t}function l(t){if(t===n.Middle)return o.F.zero;let e=0;t&r.Left?e=-1:t&r.Right&&(e=1);let s=0;return t&r.Top?s=-1:t&r.Bottom&&(s=1),new o.F(e,s)}!function(t){t[t.Vertical=1]="Vertical",t[t.Horizontal=2]="Horizontal"}(i||(i={})),function(t){t[t.Top=4]="Top",t[t.Bottom=8]="Bottom",t[t.Left=16]="Left",t[t.Right=32]="Right"}(r||(r={})),function(t){t[t.Middle=3]="Middle",t[t.Top=5]="Top",t[t.Bottom=9]="Bottom",t[t.Left=18]="Left",t[t.Right=34]="Right",t[t.TopLeft=20]="TopLeft",t[t.TopRight=36]="TopRight",t[t.BottomLeft=24]="BottomLeft",t[t.BottomRight=40]="BottomRight"}(n||(n={}))},43188:(t,e,s)=>{"use strict";s.d(e,{K:()=>n});var i=s(13170),r=s(46096);class n{static createSignal(t,e){return void 0===e&&(e=n.lerp),new r.N(["top","right","bottom","left"],(t=>new n(t)),t,e).toSignal()}static lerp(t,e,s){return new n((0,i.UI)(t.top,e.top,s),(0,i.UI)(t.right,e.right,s),(0,i.UI)(t.bottom,e.bottom,s),(0,i.UI)(t.left,e.left,s))}get x(){return this.left+this.right}get y(){return this.top+this.bottom}constructor(t,e,s,i){if(void 0===t&&(t=0),this.top=0,this.right=0,this.bottom=0,this.left=0,null!=t){if(Array.isArray(t)&&(i=t[3],s=t[2],e=t[1],t=t[0]),"number"==typeof t)return this.top=t,this.right=void 0!==e?e:t,this.bottom=void 0!==s?s:t,void(this.left=void 0!==i?i:void 0!==e?e:t);this.top=t.top,this.right=t.right,this.bottom=t.bottom,this.left=t.left}}lerp(t,e){return n.lerp(this,t,e)}scale(t){return new n(this.top*t,this.right*t,this.bottom*t,this.left*t)}addScalar(t){return new n(this.top+t,this.right+t,this.bottom+t,this.left+t)}toSymbol(){return n.symbol}serialize(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}}}n.symbol=Symbol.for("@motion-canvas/core/types/Spacing")},29797:(t,e,s)=>{"use strict";s.d(e,{F:()=>o});var i=s(13170),r=s(98378),n=s(46096);class o{static createSignal(t,e,s){return void 0===e&&(e=o.lerp),new n.N(["x","y"],(t=>new o(t)),t,e,s).toSignal()}static lerp(t,e,s){let r,n;return"number"==typeof s?r=n=s:(r=s.x,n=s.y),new o((0,i.UI)(t.x,e.x,r),(0,i.UI)(t.y,e.y,n))}static arcLerp(t,e,s,r,n){return void 0===r&&(r=!1),n??(n=t.sub(e).ctg),o.lerp(t,e,(0,i.Vz)(s,r,n))}static fromOrigin(t){const e=new o;return t===r.aP.Middle||(t&r.Nm.Left?e.x=-1:t&r.Nm.Right&&(e.x=1),t&r.Nm.Top?e.y=-1:t&r.Nm.Bottom&&(e.y=1)),e}static fromScalar(t){return new o(t,t)}static fromRadians(t){return new o(Math.cos(t),Math.sin(t))}static magnitude(t,e){return Math.sqrt(t*t+e*e)}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}get magnitude(){return o.magnitude(this.x,this.y)}get normalized(){return this.scale(1/o.magnitude(this.x,this.y))}get safe(){return new o(isNaN(this.x)?0:this.x,isNaN(this.y)?0:this.y)}get flipped(){return new o(-this.x,-this.y)}get floored(){return new o(Math.floor(this.x),Math.floor(this.y))}get perpendicular(){return new o(this.y,-this.x)}get radians(){return Math.atan2(this.y,this.x)}get ctg(){return this.x/this.y}constructor(t,e){if(this.x=0,this.y=0,null!=t){if("object"!=typeof t)return this.x=t,void(this.y=e??t);if(Array.isArray(t))return this.x=t[0],void(this.y=t[1]);if("width"in t)return this.x=t.width,void(this.y=t.height);this.x=t.x,this.y=t.y}}lerp(t,e){return o.lerp(this,t,e)}getOriginOffset(t){const e=o.fromOrigin(t);return e.x*=this.x/2,e.y*=this.y/2,e}scale(t){return new o(this.x*t,this.y*t)}transformAsPoint(t){return new o(this.x*t.m11+this.y*t.m21+t.m41,this.x*t.m12+this.y*t.m22+t.m42)}transform(t){return new o(this.x*t.m11+this.y*t.m21,this.x*t.m12+this.y*t.m22)}mul(t){const e=new o(t);return new o(this.x*e.x,this.y*e.y)}div(t){const e=new o(t);return new o(this.x/e.x,this.y/e.y)}add(t){const e=new o(t);return new o(this.x+e.x,this.y+e.y)}sub(t){const e=new o(t);return new o(this.x-e.x,this.y-e.y)}dot(t){const e=new o(t);return this.x*e.x+this.y*e.y}addX(t){return new o(this.x+t,this.y)}addY(t){return new o(this.x,this.y+t)}toSymbol(){return o.symbol}serialize(){return{x:this.x,y:this.y}}exactlyEquals(t){return this.x===t.x&&this.y===t.y}}o.symbol=Symbol.for("@motion-canvas/core/types/Vector2"),o.zero=new o,o.one=new o(1,1),o.right=new o(1,0),o.left=new o(-1,0),o.up=new o(0,1),o.down=new o(0,-1)},49111:(t,e,s)=>{"use strict";s.d(e,{t:()=>i});class i extends Error{constructor(t,e){super(t),this.remarks=e}}},15649:(t,e,s)=>{"use strict";s.d(e,{L:()=>i});class i{constructor(){this.resolveCurrent=null,this.current=null}async acquire(){for(;this.current;)await this.current;this.current=new Promise((t=>{this.resolveCurrent=t}))}release(){var t;this.current=null,null==(t=this.resolveCurrent)||t.call(this),this.resolveCurrent=null}}},15688:(t,e,s)=>{"use strict";function i(t){return t[0].toUpperCase()+t.slice(1)}s.d(e,{k:()=>i})},90031:(t,e,s)=>{"use strict";function i(t){return{message:t.message,stack:t.stack,remarks:t.remarks}}s.d(e,{d:()=>i})},1119:(t,e,s)=>{"use strict";function i(t,e){void 0===e&&(e=document.createElement("canvas"));const s=e.getContext("2d",t);if(!s)throw new Error("Could not create a 2D context.");return s}s.d(e,{f:()=>i})},37762:(t,e,s)=>{"use strict";function i(t,e,s){let i=0,r=t;void 0!==e&&(i=t,r=e),s=void 0===s?i<r?1:-1:s;const n=[];let o=Math.max(Math.ceil((r-i)/s),0),a=0;for(;o--;)n[a++]=i,i+=s;return n}s.d(e,{w:()=>i})},97715:(t,e,s)=>{"use strict";s.d(e,{Mh:()=>o,te:()=>r,wA:()=>n});const i=[];function r(){const t=i.at(-1);if(!t)throw new Error("The playback is not available in the current context.");return t}function n(t){i.push(t)}function o(t){if(i.pop()!==t)throw new Error("startPlayback/endPlayback were called out of order.")}},3163:(t,e,s)=>{"use strict";s.d(e,{$r:()=>r,DO:()=>n,ug:()=>o,vl:()=>l,wL:()=>a});const i=[];function r(){const t=i.at(-1);if(!t)throw new Error("The scene is not available in the current context.");return t}function n(t){i.push(t)}function o(t){if(i.pop()!==t)throw new Error("startScene/endScene were called out of order.")}function a(){var t;return(null==(t=i.at(-1))?void 0:t.logger)??console}function l(){r().enterCanTransitionOut()}},56632:(t,e,s)=>{"use strict";s.d(e,{h$:()=>o,kw:()=>a,nn:()=>n});var i=s(49111);const r=[];function n(){const t=r.at(-1);if(!t)throw new i.t("The thread is not available in the current context.","<p><code>useThread()</code> can only be called from within generator functions.\n      It&#39;s not available during rendering.</p>\n");return t}function o(t){r.push(t)}function a(t){if(r.pop()!==t)throw new Error("startThread/endThread was called out of order.")}},30695:(t,e,s)=>{"use strict";s.d(e,{Z:()=>we});var i={};s.r(i),s.d(i,{Circle:()=>m,Grid:()=>L,Icon:()=>z,Img:()=>F,Latex:()=>$,Layout:()=>Z.A,Line:()=>Q,Node:()=>tt.N,Polygon:()=>st,Rect:()=>x.U,Shape:()=>d.b,Txt:()=>ot,Video:()=>ct,View2D:()=>it.h});var r={};s.r(r),s.d(r,{all:()=>ut.$,any:()=>mt,chain:()=>vt,delay:()=>St,every:()=>kt,loop:()=>Ct,noop:()=>Pt,run:()=>Rt.K,sequence:()=>Tt,waitFor:()=>xt,waitUntil:()=>bt});var n={};s.r(n),s.d(n,{DetailedError:()=>Mt.t,Semaphore:()=>At.L,beginSlide:()=>Ft,capitalize:()=>Et.k,createRef:()=>qt,debug:()=>zt,deprecate:()=>Ot,endPlayback:()=>wt.Mh,endScene:()=>k.ug,endThread:()=>at.kw,errorToLog:()=>Lt.d,finishScene:()=>k.vl,getContext:()=>jt.f,isProxyEnabled:()=>P,makeRef:()=>Nt,makeRefs:()=>Ut,range:()=>Bt.w,startPlayback:()=>wt.wA,startScene:()=>k.DO,startThread:()=>at.h$,useContext:()=>$t,useContextAfter:()=>Zt,useDuration:()=>yt,useLogger:()=>k.wL,usePlayback:()=>wt.te,useRandom:()=>Dt,useScene:()=>k.$r,useThread:()=>at.nn,useTime:()=>Wt,viaProxy:()=>C});var o={};s.r(o),s.d(o,{CompoundSignalContext:()=>Vt.N,ComputedContext:()=>Gt.h,DEFAULT:()=>Kt.T,DependencyContext:()=>S.k,SignalContext:()=>Yt.V,createComputed:()=>Ht.D,createComputedAsync:()=>Xt,createSignal:()=>Jt.g,isReactive:()=>V.P});var a={};s.r(a),s.d(a,{BBox:()=>v.b,Center:()=>ee.M5,Color:()=>w.I,Direction:()=>ee.Nm,EPSILON:()=>Qt.Ib,Matrix2D:()=>te,Origin:()=>ee.aP,Spacing:()=>se.K,Vector2:()=>y.F,flipOrigin:()=>ee.lk,isType:()=>ie,originToOffset:()=>ee.WS,transformAngle:()=>Qt.$H,transformScalar:()=>Qt.X6});var l={};s.r(l),s.d(l,{BeatSpring:()=>le,BounceSpring:()=>ce,JumpSpring:()=>de,PlopSpring:()=>he,SmoothSpring:()=>fe,StrikeSpring:()=>pe,SwingSpring:()=>ue,arcLerp:()=>G.Vz,clamp:()=>G.uZ,clampRemap:()=>G.vl,cos:()=>re.mC,createEaseInBack:()=>re.j$,createEaseInBounce:()=>re.jv,createEaseInElastic:()=>re.qS,createEaseInOutBack:()=>re.Bl,createEaseInOutBounce:()=>re.Ij,createEaseInOutElastic:()=>re.du,createEaseOutBack:()=>re.lj,createEaseOutBounce:()=>re.zk,createEaseOutElastic:()=>re.Kx,deepLerp:()=>G.o0,easeInBack:()=>re.Yw,easeInBounce:()=>re.SJ,easeInCirc:()=>re.Mg,easeInCubic:()=>re.Q9,easeInElastic:()=>re.eE,easeInExpo:()=>re.e_,easeInOutBack:()=>re.BH,easeInOutBounce:()=>re.en,easeInOutCirc:()=>re.Ge,easeInOutCubic:()=>re.qb,easeInOutElastic:()=>re.cv,easeInOutExpo:()=>re.hN,easeInOutQuad:()=>re.to,easeInOutQuart:()=>re.J7,easeInOutQuint:()=>re.rz,easeInOutSine:()=>re.Fs,easeInQuad:()=>re.FG,easeInQuart:()=>re.g4,easeInQuint:()=>re.n5,easeInSine:()=>re.N1,easeOutBack:()=>re.UE,easeOutBounce:()=>re.C6,easeOutCirc:()=>re.ei,easeOutCubic:()=>re.w2,easeOutElastic:()=>re.sK,easeOutExpo:()=>re.ad,easeOutQuad:()=>re.hl,easeOutQuart:()=>re.Y3,easeOutQuint:()=>re.pl,easeOutSine:()=>re.vh,linear:()=>re.GE,makeSpring:()=>ae,map:()=>G.UI,remap:()=>G.a2,sin:()=>re.O$,spring:()=>oe,textLerp:()=>G.JC,tween:()=>ne.i});var h={};s.r(h),s.d(h,{Thread:()=>ve.j,cancel:()=>me,getTaskName:()=>ge.z,isPromisable:()=>gt.x,isPromise:()=>ye.t,isThreadGenerator:()=>gt.R,join:()=>dt.v,setTaskName:()=>ge.i,threads:()=>ye.C});var c=s(15914);const u=Symbol.for("@motion-canvas/2d/fragment");var d=s(13730),p=s(93091),f=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class m extends d.b{constructor(t){super(t)}getPath(){return this.createPath()}getRipplePath(){return this.createPath(this.rippleSize())}createPath(t){void 0===t&&(t=0);const e=new Path2D,s=this.startAngle()/180*Math.PI,i=this.endAngle()/180*Math.PI,r=this.size().scale(.5),n=this.closed();return n&&e.moveTo(0,0),e.ellipse(0,0,r.x+t,r.y+t,0,s,i),n&&e.closePath(),e}}f([(0,p.nn)(0),(0,p.td)()],m.prototype,"startAngle",void 0),f([(0,p.nn)(360),(0,p.td)()],m.prototype,"endAngle",void 0),f([(0,p.nn)(!1),(0,p.td)()],m.prototype,"closed",void 0);var g=s(46350),v=s(23357),y=s(29797),w=s(30204),b=s(11258),x=s(15498),S=s(76062),k=s(3163);function C(t){if(!P())return t;if(t.startsWith("/cors-proxy/"))return t;const e=new URL(window.location.toString());try{const s=new URL(t,e);if(!s.protocol.startsWith("http"))return t;if(e.host===s.host)return t;if(!function(t){const e=function(){if("true"!==(void 0).VITEST&&R)return[...R];const t=(P(),[]);return R=t,[...R]}();if(0===e.length)return!0;for(const s of e)if(s.toLowerCase().trim()===t)return!0;return!1}(s.host))return t}catch(s){return t}return`/cors-proxy/${encodeURIComponent(t)}`}function P(){return!1}let R;var T=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class F extends x.U{constructor(t){super(t)}desiredSize(){const t=super.desiredSize();if(null===t.x&&null===t.y){const t=this.image();return{x:t.naturalWidth,y:t.naturalHeight}}return t}image(){const t=C(this.src());if(F.pool[t])return F.pool[t];const e=document.createElement("img");return e.crossOrigin="anonymous",e.src=t,e.complete||S.k.collectPromise(new Promise(((t,s)=>{e.addEventListener("load",t),e.addEventListener("error",s)}))),F.pool[t]=e,e}imageCanvas(){const t=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});if(!t)throw new Error("Could not create an image canvas");return t}filledImageCanvas(){const t=this.imageCanvas(),e=this.image();return t.canvas.width=e.naturalWidth,t.canvas.height=e.naturalHeight,t.imageSmoothingEnabled=this.smoothing(),t.drawImage(e,0,0),t}draw(t){this.drawShape(t),this.clip()&&t.clip(this.getPath());const e=this.alpha();if(e>0){const s=v.b.fromSizeCentered(this.computedSize());t.save(),e<1&&(t.globalAlpha*=e),t.imageSmoothingEnabled=this.smoothing(),(0,b.AE)(t,this.image(),s),t.restore()}this.drawChildren(t)}applyFlex(){super.applyFlex();const t=this.image();this.element.style.aspectRatio=(this.ratio()??t.naturalWidth/t.naturalHeight).toString()}getColorAtPoint(t){const e=this.image(),s=this.computedSize(),i=new y.F(e.naturalWidth,e.naturalHeight),r=new y.F(t).add(this.computedSize().scale(.5)).mul(i.div(s).safe);return this.getPixelColor(r)}getPixelColor(t){const e=this.filledImageCanvas(),s=new y.F(t),i=e.getImageData(s.x,s.y,1,1).data;return new w.I({r:i[0],g:i[1],b:i[2],a:i[3]/255})}collectAsyncResources(){super.collectAsyncResources(),this.image()}}F.pool={},T([(0,p.td)()],F.prototype,"src",void 0),T([(0,p.nn)(1),(0,p.td)()],F.prototype,"alpha",void 0),T([(0,p.nn)(!0),(0,p.td)()],F.prototype,"smoothing",void 0),T([(0,g.F)()],F.prototype,"image",null),T([(0,g.F)()],F.prototype,"imageCanvas",null),T([(0,g.F)()],F.prototype,"filledImageCanvas",null);var E=s(43595),I=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class z extends F{constructor(t){super(t)}svgUrl(){return`https://api.iconify.design/${this.icon().replace(":","/")}.svg?color=${encodeURIComponent(this.color().hex())}`}getSrc(){return this.svgUrl()}setSrc(){(0,k.wL)().warn("The Icon Component does not accept setting the `src`. If you need access to `src`, use '<Img/>` instead.")}}I([(0,p.td)()],z.prototype,"icon",void 0),I([(0,p.nn)("white"),(0,E.j)()],z.prototype,"color",void 0),I([(0,g.F)()],z.prototype,"svgUrl",null);var O=s(88104),M=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class L extends d.b{constructor(t){super(t)}drawShape(t){t.save(),this.applyStyle(t),this.drawRipple(t);const e=this.spacing(),s=this.computedSize().scale(.5),i=s.div(e).floored;for(let r=-i.x;r<=i.x;r++)t.beginPath(),t.moveTo(e.x*r,-s.height),t.lineTo(e.x*r,s.height),t.stroke();for(let r=-i.y;r<=i.y;r++)t.beginPath(),t.moveTo(-s.width,e.y*r),t.lineTo(s.width,e.y*r),t.stroke();t.restore()}}M([(0,p.nn)(80),(0,O.y)("spacing")],L.prototype,"spacing",void 0);var j=s(98911),B=s(2322),A=s(64238),_=s(81962),D=s(86226),q=s(50099),N=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};const U=(0,D.liteAdaptor)();(0,q.Q)(U);const W=j.mathjax.document("",{InputJax:new B.TeX({packages:_.b}),OutputJax:new A.SVG({fontCache:"local"})});class $ extends F{constructor(t){super(t),this.imageElement=document.createElement("img")}image(){const t=`${this.tex()}::${JSON.stringify(this.options())}`;if($.svgContentsPool[t])return this.imageElement.src=$.svgContentsPool[t],this.imageElement;const e=this.tex(),s=U.innerHTML(W.convert(e,this.options()));if(s.includes("data-mjx-error")){const t=s.match(/data-mjx-error="(.*?)"/);t&&t.length>0&&(0,k.wL)().error(`Invalid MathJax: ${t[1]}`)}const i=`data:image/svg+xml;base64,${btoa(`<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n${s}`)}`;$.svgContentsPool[t]=i;const r=document.createElement("img");return r.src=i,r.src=i,r.complete||S.k.collectPromise(new Promise(((t,e)=>{r.addEventListener("load",t),r.addEventListener("error",e)}))),r}}$.svgContentsPool={},N([(0,p.nn)({}),(0,p.td)()],$.prototype,"options",void 0),N([(0,p.td)()],$.prototype,"tex",void 0);var Z=s(70989),V=s(93214),G=s(13170);class H{}class J extends H{constructor(t,e){super(),this.from=t,this.to=e,this.vector=e.sub(t),this.length=this.vector.magnitude,this.tangent=this.vector.perpendicular.normalized.safe}get arcLength(){return this.length}draw(t,e,s,i){void 0===e&&(e=0),void 0===s&&(s=1),void 0===i&&(i=!1);const r=this.from.add(this.vector.scale(e)),n=this.from.add(this.vector.scale(s));return i&&(0,b.Ao)(t,r),(0,b.kZ)(t,n),[r,this.tangent.flipped,n,this.tangent]}getPoint(t){return[this.from.add(this.vector.scale(t)),this.tangent.flipped]}}class X extends H{constructor(t,e,s,i,r){super(),this.center=t,this.radius=e,this.from=s,this.to=i,this.counter=r,this.angle=Math.acos((0,G.uZ)(-1,1,s.dot(i))),this.length=Math.abs(this.angle*e)}get arcLength(){return this.length}draw(t,e,s){const i=this.counter?-1:1,r=this.from.radians+e*this.angle*i,n=this.to.radians-(1-s)*this.angle*i;Math.abs(e-s)>1e-4&&t.arc(this.center.x,this.center.y,this.radius,r,n,this.counter);const o=y.F.fromRadians(r),a=y.F.fromRadians(n);return[this.center.add(o.scale(this.radius)),this.counter?o:o.flipped,this.center.add(a.scale(this.radius)),this.counter?a.flipped:a]}getPoint(t){const e=this.counter?-1:1,s=this.from.radians+t*this.angle*e,i=y.F.fromRadians(s);return[this.center.add(i.scale(this.radius)),this.counter?i:i.flipped]}}function Y(t,e){const s=(0,G.uZ)(0,t.arcLength,e);let i=0;for(const r of t.segments){const t=i;if(i+=r.arcLength,i>=s){const e=(s-t)/r.arcLength,[i,n]=r.getPoint((0,G.uZ)(0,1,e));return{position:i,tangent:n}}}return{position:y.F.zero,tangent:y.F.up}}var K=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class Q extends d.b{desiredSize(){return this.childrenBBox().size}constructor(t){super(t),void 0===t.children&&void 0===t.points&&(0,k.wL)().warn({message:"No points specified for the line",remarks:'<p>The line won&#39;t be visible unless you specify at least two points:</p>\n<pre><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span>\n  stroke=<span class="hljs-string">&quot;#fff&quot;</span>\n  lineWidth={<span class="hljs-number">8</span>}\n  points={[\n    [<span class="hljs-number">100</span>, <span class="hljs-number">0</span>],\n    [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>],\n    [<span class="hljs-number">0</span>, <span class="hljs-number">100</span>],\n  ]}\n/&gt;\n</code></pre>\n<p>Alternatively, you can define the points using the children:</p>\n<pre><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>}&gt;\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">x</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> /&gt;</span></span>\n  <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Node</span> <span class="hljs-attr">y</span>=<span class="hljs-string">{100}</span> /&gt;</span></span>\n&lt;/<span class="hljs-title class_">Line</span>&gt;\n</code></pre>\n<p>If you did this intentionally, and want to disable this message, set the\n<code>points</code> property to <code>null</code>:</p>\n<pre><code class="language-tsx">&lt;<span class="hljs-title class_">Line</span> stroke=<span class="hljs-string">&quot;#fff&quot;</span> lineWidth={<span class="hljs-number">8</span>} points={<span class="hljs-literal">null</span>} /&gt;\n</code></pre>\n',inspect:this.key})}childrenBBox(){const t=this.points(),e=t?t.map((t=>new y.F((0,V.P)(t)?t():t))):this.children().filter((t=>!(t instanceof Z.A)||t.isLayoutRoot())).map((t=>t.position()));return v.b.fromPoints(...e)}parsedPoints(){const t=this.points();return t?t.map((t=>new y.F((0,V.P)(t)?t():t))):this.children().map((t=>t.position()))}profile(){return function(t,e,s){const i={arcLength:0,segments:[],minSin:1};if(0===t.length)return i;if(s){const e=t[0].add(t[t.length-1]).scale(.5);t.unshift(e),t.push(e)}let r=t[0];for(let o=2;o<t.length;o++){const s=t[o-2],n=t[o-1],a=t[o],l=s.sub(n),h=a.sub(n),c=l.normalized.safe,u=h.normalized.safe,d=Math.acos((0,G.uZ)(-1,1,c.dot(u))),p=Math.tan(d/2),f=Math.sin(d/2),m=Math.min(e,p*l.magnitude*(2===o?1:.5),p*h.magnitude*(o===t.length-1?1:.5)),g=0===f?0:m/f,v=0===p?0:m/p,y=c.add(u).scale(.5).normalized.safe.scale(g).add(n),w=c.perpendicular.dot(u)<0,b=new J(r,n.add(c.scale(v))),x=new X(y,m,c.perpendicular.scale(w?1:-1),u.perpendicular.scale(w?-1:1),w);i.segments.push(b),i.segments.push(x),i.arcLength+=b.arcLength,i.arcLength+=x.arcLength,i.minSin=Math.min(i.minSin,Math.abs(f)),r=n.add(u.scale(v))}const n=new J(r,t[t.length-1]);return i.segments.push(n),i.arcLength+=n.arcLength,i}(this.parsedPoints(),this.radius(),this.closed())}percentageToDistance(t){const{arcLength:e}=this.profile(),s=this.startOffset();return s+(e-s-this.endOffset())*t}curveDrawingInfo(){const t=new Path2D,e=this.profile();let s=this.percentageToDistance(this.start()),i=this.percentageToDistance(this.end());s>i&&([s,i]=[i,s]);const r=i-s,n=Math.min(r/2,this.arrowSize());this.startArrow()&&(s+=n/2),this.endArrow()&&(i-=n/2);let o=0,a=null,l=null,h=null,c=null;for(const u of e.segments){const e=o;if(o+=u.arcLength,o<s)continue;const r=(s-e)/u.arcLength,n=(i-e)/u.arcLength,d=(0,G.uZ)(0,1,r),p=(0,G.uZ)(0,1,n),[f,m,g,v]=u.draw(t,d,p,null===a);if(null===a&&(a=f,l=m),h=g,c=v,o>i)break}return{startPoint:a??y.F.zero,startTangent:l??y.F.up,endPoint:h??y.F.zero,endTangent:c??y.F.up,arrowSize:n,path:t,startOffset:s}}getPointAtDistance(t){return Y(this.profile(),t+this.startOffset())}getPointAtPercentage(t){return Y(this.profile(),this.percentageToDistance(t))}applyStyle(t){super.applyStyle(t);const{arcLength:e}=this.profile();t.lineDashOffset-=e/2}getComputedLayout(){const t=super.getComputedLayout();return t.position=t.position.sub(this.childrenBBox().center),t}getPath(){return this.curveDrawingInfo().path}getCacheBBox(){const t=this.childrenBBox(),e=this.arrowSize(),s=this.lineWidth(),i=this.radius(),r=this.lineJoin(),n=this.lineCap();let o=.5;if(0===i&&"miter"===r){const{minSin:t}=this.profile();t>0&&(o=Math.max(o,.5/t))}return"square"===n&&(o=Math.max(o,.70715)),t.expand(Math.max(0,e,s*o))}drawShape(t){super.drawShape(t);const{startPoint:e,startTangent:s,endPoint:i,endTangent:r,arrowSize:n}=this.curveDrawingInfo();n<.001||(t.save(),t.beginPath(),this.endArrow()&&this.drawArrow(t,i,r,n),this.startArrow()&&this.drawArrow(t,e,s,n),t.fillStyle=(0,b.ho)(this.stroke(),t),t.closePath(),t.fill(),t.restore())}drawArrow(t,e,s,i){const r=s.perpendicular,n=e.add(r.scale(-i/2));(0,b.Ao)(t,n),(0,b.kZ)(t,n.add(r.add(s).scale(i))),(0,b.kZ)(t,n.add(r.sub(s).scale(i))),(0,b.kZ)(t,n),t.closePath()}drawOverlay(t,e){const s=this.childrenBBox().transformCorners(e),i=this.computedSize().mul(this.offset()).scale(.5).transformAsPoint(e);t.fillStyle="white",t.strokeStyle="black",t.lineWidth=1;const r=new Path2D,n=this.parsedPoints().map((t=>t.transformAsPoint(e)));if(n.length>0){(0,b.Ao)(r,n[0]);for(const e of n)(0,b.kZ)(r,e),t.beginPath(),(0,b.Nb)(t,e,4),t.closePath(),t.fill(),t.stroke()}t.strokeStyle="white",t.stroke(r);t.beginPath(),(0,b.kZ)(t,i.addY(-8)),(0,b.kZ)(t,i.addY(8)),(0,b.kZ)(t,i),(0,b.kZ)(t,i.addX(-8)),t.arc(i.x,i.y,8,0,2*Math.PI),t.stroke(),t.beginPath(),(0,b.pS)(t,s),t.closePath(),t.stroke()}}K([(0,p.nn)(0),(0,p.td)()],Q.prototype,"radius",void 0),K([(0,p.nn)(!1),(0,p.td)()],Q.prototype,"closed",void 0),K([(0,p.nn)(0),(0,p.td)()],Q.prototype,"start",void 0),K([(0,p.nn)(0),(0,p.td)()],Q.prototype,"startOffset",void 0),K([(0,p.nn)(!1),(0,p.td)()],Q.prototype,"startArrow",void 0),K([(0,p.nn)(1),(0,p.td)()],Q.prototype,"end",void 0),K([(0,p.nn)(0),(0,p.td)()],Q.prototype,"endOffset",void 0),K([(0,p.nn)(!1),(0,p.td)()],Q.prototype,"endArrow",void 0),K([(0,p.nn)(24),(0,p.td)()],Q.prototype,"arrowSize",void 0),K([(0,p.nn)(null),(0,p.td)()],Q.prototype,"points",void 0),K([(0,g.F)()],Q.prototype,"childrenBBox",null),K([(0,g.F)()],Q.prototype,"parsedPoints",null),K([(0,g.F)()],Q.prototype,"profile",null),K([(0,g.F)()],Q.prototype,"curveDrawingInfo",null);var tt=s(20092),et=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class st extends d.b{constructor(t){super(t)}getPath(){const t=new Path2D,e=this.sides(),s=v.b.fromSizeCentered(this.size());return(0,b.is)(t,s,e),t}getRipplePath(){const t=new Path2D,e=this.sides(),s=this.rippleSize(),i=v.b.fromSizeCentered(this.size()).expand(s);return(0,b.is)(t,i,e),t}}et([(0,p.nn)(6),(0,p.td)()],st.prototype,"sides",void 0);var it=s(70419),rt=s(79116),nt=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class ot extends d.b{constructor(t){let{children:e,...s}=t;super(s),e&&this.text(e)}draw(t){this.requestFontUpdate(),this.applyStyle(t),this.applyText(t),t.font=this.styles.font,"letterSpacing"in t&&(t.letterSpacing=`${this.letterSpacing()}px`);const e=this.element.getBoundingClientRect(),{width:s,height:i}=this.size(),r=document.createRange();let n="";const o=new v.b;for(const a of this.element.childNodes){if(!a.textContent)continue;r.selectNodeContents(a);const l=r.getBoundingClientRect(),h=s/-2+l.left-e.left,c=i/-2+l.top-e.top;o.y===c?(o.width+=l.width,n+=a.textContent):(this.drawText(t,n,o),o.x=h,o.y=c,o.width=l.width,o.height=l.height,n=a.textContent)}this.drawText(t,n,o)}drawText(t,e,s){const i=s.y+s.height/2;t.save(),t.textBaseline="middle",this.lineWidth()<=0?t.fillText(e,s.x,i):this.strokeFirst()?(t.strokeText(e,s.x,i),t.fillText(e,s.x,i)):(t.fillText(e,s.x,i),t.strokeText(e,s.x,i)),t.restore()}formattedText(){return ot.formatter.innerText=this.text(),ot.formatter.innerText}updateLayout(){this.applyFont(),this.applyFlex(),this.justifyContent.isInitial()&&(this.element.style.justifyContent=this.styles.getPropertyValue("text-align"));if("nowrap"!==this.styles.whiteSpace&&"pre"!==this.styles.whiteSpace)if(this.element.innerText="",ot.segmenter)for(const t of ot.segmenter.segment(this.formattedText()))this.element.appendChild(document.createTextNode(t.segment));else for(const t of this.formattedText().split(""))this.element.appendChild(document.createTextNode(t));else if("pre"===this.styles.whiteSpace){this.element.innerText="";for(const t of this.text().split("\n"))this.element.appendChild(document.createTextNode(t+"\n"))}else this.element.innerText=this.formattedText()}}nt([(0,p.nn)(""),(0,p.JI)(G.JC),(0,p.td)()],ot.prototype,"text",void 0),nt([(0,g.F)()],ot.prototype,"formattedText",null),nt([(0,rt.V)((()=>{const t=document.createElement("div");return it.h.shadowRoot.append(t),t}))],ot,"formatter",void 0),nt([(0,rt.V)((()=>{try{return new Intl.Segmenter(void 0,{granularity:"grapheme"})}catch(t){return null}}))],ot,"segmenter",void 0);var at=s(56632),lt=s(88733),ht=function(t,e,s,i){var r,n=arguments.length,o=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,s):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,s,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(n<3?r(o):n>3?r(e,s,o):r(e,s))||o);return n>3&&o&&Object.defineProperty(e,s,o),o};class ct extends x.U{constructor(t){super(t),this.lastTime=-1}isPlaying(){return this.playing()}getCurrentTime(){return this.time()}getDuration(){return this.video().duration}desiredSize(){const t=super.desiredSize();if(null===t.x&&null===t.y){const t=this.video();return{x:t.videoWidth,y:t.videoHeight}}return t}completion(){return this.clampTime(this.time())/this.video().duration}video(){const t=this.src(),e=`${this.key}/${t}`;if(ct.pool[e])return ct.pool[e];const s=document.createElement("video");return s.src=t,s.readyState<2&&S.k.collectPromise(new Promise((t=>{const e=()=>{t(),s.removeEventListener("canplay",e)};s.addEventListener("canplay",e)}))),ct.pool[e]=s,s}seekedVideo(){const t=this.video(),e=this.clampTime(this.time());return t.paused||t.pause(),this.lastTime===e||this.setCurrentTime(e),t}fastSeekedVideo(){const t=this.video(),e=this.clampTime(this.time());if(this.lastTime===e)return t;const s=this.playing()&&e<t.duration;return s?t.paused&&S.k.collectPromise(t.play()):t.paused||t.pause(),Math.abs(t.currentTime-e)>.2?this.setCurrentTime(e):s||(t.currentTime=e),t}draw(t){this.drawShape(t),this.clip()&&t.clip(this.getPath());const e=this.alpha();if(e>0){const s=this.view().playbackState()===lt.q.Playing?this.fastSeekedVideo():this.seekedVideo(),i=v.b.fromSizeCentered(this.computedSize());t.save(),e<1&&(t.globalAlpha*=e),t.imageSmoothingEnabled=this.smoothing(),(0,b.AE)(t,s,i),t.restore()}this.drawChildren(t)}applyFlex(){super.applyFlex();const t=this.video();this.element.style.aspectRatio=(this.ratio()??t.videoWidth/t.videoHeight).toString()}setCurrentTime(t){const e=this.video();e.readyState<2||(e.currentTime=t,this.lastTime=t,e.seeking&&S.k.collectPromise(new Promise((t=>{const s=()=>{t(),e.removeEventListener("seeked",s)};e.addEventListener("seeked",s)}))))}play(){const t=(0,at.nn)().time,e=t()-this.time();this.playing(!0),this.time((()=>this.clampTime(t()-e)))}pause(){this.playing(!1),this.time.save(),this.video().pause()}seek(t){const e=this.playing();this.time(this.clampTime(t)),e?this.play():this.pause()}clampTime(t){return(0,G.uZ)(0,this.video().duration,t)}collectAsyncResources(){super.collectAsyncResources(),this.seekedVideo()}}ct.pool={},ht([(0,p.td)()],ct.prototype,"src",void 0),ht([(0,p.nn)(1),(0,p.td)()],ct.prototype,"alpha",void 0),ht([(0,p.nn)(!0),(0,p.td)()],ct.prototype,"smoothing",void 0),ht([(0,p.nn)(0),(0,p.td)()],ct.prototype,"time",void 0),ht([(0,p.nn)(!1),(0,p.td)()],ct.prototype,"playing",void 0),ht([(0,g.F)()],ct.prototype,"completion",null),ht([(0,g.F)()],ct.prototype,"video",null),ht([(0,g.F)()],ct.prototype,"seekedVideo",null),ht([(0,g.F)()],ct.prototype,"fastSeekedVideo",null);var ut=s(5376),dt=s(51284),pt=s(42075),ft=s(67292);function*mt(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(const i of e)yield i;yield*(0,dt.v)(!1,...e)}(0,pt.G)(mt,(0,ft.C)());var gt=s(80638);function*vt(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];for(const i of e)(0,gt.R)(i)?yield*i:i()}function yt(t){const e=(0,k.$r)(),s=(0,at.nn)();return e.timeEvents.register(t,s.time())}(0,pt.G)(vt,(0,ft.C)());var wt=s(97715);function*bt(t,e){yield*xt(yt(t)),e&&(yield*e)}function*xt(t,e){void 0===t&&(t=0);const s=(0,at.nn)(),i=(0,wt.te)().framesToSeconds(1),r=s.time()+t;for(;r-i>s.fixed;)yield;s.time(r),e&&(yield*e)}function*St(t,e){yield*xt(t),(0,gt.R)(e)?yield*e:e()}function kt(t,e){let s=!1;function*i(){const i=(0,wt.te)();let r=0,n=0;for(e(n),s=!0;;)r>=i.secondsToFrames(t)?(r=0,n++,e(n),s=!0):s=!1,r++,yield}return(0,pt.G)(i,(0,ft.C)("every")),{runner:i(),setInterval(e){t=e,s=!1},setCallback(t){e=t,s=!1},*sync(){for(;!s;)yield}}}function*Ct(t,e){for(let s=0;s<t;s++){const t=e(s);t?yield*t:yield}}function*Pt(){}(0,pt.G)(bt,(0,ft.C)()),(0,pt.G)(xt,(0,ft.C)()),(0,pt.G)(St,(0,ft.C)()),(0,pt.G)(Ct,(0,ft.C)()),(0,pt.G)(Pt,(0,ft.C)());var Rt=s(77396);function*Tt(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),i=1;i<e;i++)s[i-1]=arguments[i];for(const r of s)yield r,yield*xt(t);yield*(0,dt.v)(...s)}function*Ft(t){const{slides:e}=(0,k.$r)(),s=(0,at.nn)();for(e.register(t,s.fixed),yield;e.shouldWait(t);)yield}(0,pt.G)(Tt,(0,ft.C)());var Et=s(15688);function It(t){switch(typeof t){case"string":return t;case"undefined":return"undefined";default:return Number.isNaN(t)?"NaN":JSON.stringify(t)}}function zt(t){const e={message:It(t)};t&&"object"==typeof t&&(e.object=t),(0,k.wL)().debug(e)}function Ot(t,e,s){return function(){(0,k.wL)().warn({message:e,remarks:s,stack:(new Error).stack});for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return t.apply(this,r)}}var Mt=s(49111),Lt=s(90031),jt=s(1119),Bt=s(37762),At=s(15649),_t=s(11726);function Dt(t,e){return void 0===e&&(e=!0),"number"==typeof t?new _t.k(e?t:t+(0,k.$r)().meta.seed.get()):(0,k.$r)().random}function qt(){let t;return e=>{if(void 0===e)return t;t=e}}function Nt(t,e){return s=>{t[e]=s}}function Ut(){return{}}function Wt(){return(0,at.nn)().time()}function $t(t){return(0,k.$r)().lifecycleEvents.onBeginRender.subscribe(t)}function Zt(t){return(0,k.$r)().lifecycleEvents.onFinishRender.subscribe(t)}var Vt=s(46096),Gt=s(81865),Ht=s(73662),Jt=s(97140);function Xt(t,e){let s;void 0===e&&(e=null);const i=(0,Jt.g)(t);return(0,Ht.D)((()=>{const t=i();var r;s&&s.promise===t||(s=Gt.h.collectPromise(t,(null==(r=s)?void 0:r.value)??e));return s.value}))}var Yt=s(16249),Kt=s(60771),Qt=s(74741);class te{static fromRotation(t){return te.identity.rotate(t)}static fromTranslation(t){return te.identity.translate(new y.F(t))}static fromScaling(t){return te.identity.scale(new y.F(t))}get x(){return new y.F(this.values[0],this.values[1])}get y(){return new y.F(this.values[2],this.values[3])}get scaleX(){return this.values[0]}set scaleX(t){this.values[0]=this.x.normalized.scale(t).x}set scaleY(t){this.values[3]=this.y.normalized.scale(t).y}get scaleY(){return this.values[3]}set translateX(t){this.values[4]=t}get translateX(){return this.values[4]}set translateY(t){this.values[5]=t}get translateY(){return this.values[5]}set rotation(t){const e=this.rotate(t-this.rotation);this.values[0]=e.values[0],this.values[1]=e.values[1],this.values[2]=e.values[2],this.values[3]=e.values[3]}get rotation(){return 180*Math.atan2(this.values[1],this.values[0])/Math.PI}set translation(t){const e=new y.F(t);this.values[4]=e.x,this.values[5]=e.y}get translation(){return new y.F(this.values[4],this.values[5])}set scaling(t){const e=new y.F(t),s=new y.F(this.values[0],this.values[1]).normalized,i=new y.F(this.values[2],this.values[3]).normalized;this.values[0]=s.x*e.x,this.values[1]=s.y*e.y,this.values[2]=i.x*e.x,this.values[3]=i.y*e.y}get scaling(){return new y.F(this.values[0],this.values[3])}get inverse(){const t=this.values[0],e=this.values[1],s=this.values[2],i=this.values[3],r=this.values[4],n=this.values[5];let o=t*i-e*s;return o?(o=1/o,new te(i*o,-e*o,-s*o,t*o,(s*n-i*r)*o,(e*r-t*n)*o)):null}get determinant(){return this.values[0]*this.values[3]-this.values[1]*this.values[2]}get domMatrix(){return new DOMMatrix([this.values[0],this.values[1],this.values[2],this.values[3],this.values[4],this.values[5]])}constructor(t,e,s,i,r,n){if(this.values=new Float32Array(6),0===arguments.length)return void(this.values=new Float32Array([1,0,0,1,0,0]));if(6===arguments.length)return this.values[0]=t,this.values[1]=e,this.values[2]=s,this.values[3]=i,this.values[4]=r,void(this.values[5]=n);if(t instanceof te)return void(this.values=t.values);if(Array.isArray(t)){if(2===t.length)return this.values[0]=t[0],this.values[1]=t[1],this.values[2]=e[0],this.values[3]=e[1],this.values[4]=s[0],void(this.values[5]=s[1]);if(3===t.length){const e=new y.F(t[0]),s=new y.F(t[1]),i=new y.F(t[2]);return this.values[0]=e.x,this.values[1]=e.y,this.values[2]=s.x,this.values[3]=s.y,this.values[4]=i.x,void(this.values[5]=i.y)}return this.values[0]=t[0],this.values[1]=t[1],this.values[2]=t[2],this.values[3]=t[3],this.values[4]=t[4],void(this.values[5]=t[5])}const o=new y.F(t),a=new y.F(e),l=new y.F(s);this.values[0]=o.x,this.values[1]=o.y,this.values[2]=a.x,this.values[3]=a.y,this.values[4]=l.x,this.values[5]=l.y}column(t){return new y.F(this.values[2*t],this.values[2*t+1])}row(t){return[this.values[t],this.values[t+2],this.values[t+4]]}mul(t){const e=this.values[0],s=this.values[1],i=this.values[2],r=this.values[3],n=this.values[4],o=this.values[5],a=t.values[0],l=t.values[1],h=t.values[2],c=t.values[3],u=t.values[4],d=t.values[5];return new te(e*a+i*l,s*a+r*l,e*h+i*c,s*h+r*c,e*u+i*d+n,s*u+r*d+o)}rotate(t,e){void 0===e&&(e=!0),e&&(t=t*Math.PI/180);const s=this.values[0],i=this.values[1],r=this.values[2],n=this.values[3],o=this.values[4],a=this.values[5],l=Math.sin(t),h=Math.cos(t);return new te(s*h+r*l,i*h+n*l,s*-l+r*h,i*-l+n*h,o,a)}scale(t){const e=new y.F(t);return new te(this.values[0]*e.x,this.values[1]*e.x,this.values[2]*e.y,this.values[3]*e.y,this.values[4],this.values[5])}mulScalar(t){return new te(this.values[0]*t,this.values[1]*t,this.values[2]*t,this.values[3]*t,this.values[4]*t,this.values[5]*t)}translate(t){const e=new y.F(t);return new te(this.values[0],this.values[1],this.values[2],this.values[3],this.values[0]*e.x+this.values[2]*e.y+this.values[4],this.values[1]*e.x+this.values[3]*e.y+this.values[5])}add(t){return new te(this.values[0]+t.values[0],this.values[1]+t.values[1],this.values[2]+t.values[2],this.values[3]+t.values[3],this.values[4]+t.values[4],this.values[5]+t.values[5])}sub(t){return new te(this.values[0]-t.values[0],this.values[1]-t.values[1],this.values[2]-t.values[2],this.values[3]-t.values[3],this.values[4]-t.values[4],this.values[5]-t.values[5])}equals(t,e){return void 0===e&&(e=Qt.Ib),Math.abs(this.values[0]-t.values[0])<=e&&Math.abs(this.values[1]-t.values[1])<=e&&Math.abs(this.values[2]-t.values[2])<=e&&Math.abs(this.values[3]-t.values[3])<=e&&Math.abs(this.values[4]-t.values[4])<=e&&Math.abs(this.values[5]-t.values[5])<=e}exactlyEquals(t){return this.values[0]===t.values[0]&&this.values[1]===t.values[1]&&this.values[2]===t.values[2]&&this.values[3]===t.values[3]&&this.values[4]===t.values[4]&&this.values[5]===t.values[5]}}te.identity=new te(1,0,0,1,0,0),te.zero=new te(0,0,0,0,0,0);var ee=s(98378),se=s(43188);function ie(t){return t&&"object"==typeof t&&"toSymbol"in t}var re=s(97074),ne=s(74534);function*oe(t,e,s,i,r,n){const o="number"==typeof i?i:.001;n="number"==typeof i?n:r;const a=(t,e)=>{"function"==typeof i?i(t,e):"function"==typeof r&&r(t,e)};if((t=t??{mass:.05,stiffness:10,damping:.5}).mass<=0)return void(0,k.wL)().error(new Error("Spring mass must be greater than 0."));if(t.stiffness<0)return void(0,k.wL)().error(new Error("Spring stiffness must be greater or equal to 0."));if(t.damping<0)return void(0,k.wL)().error(new Error("Spring damping must be greater or equal to 0."));const l=(0,at.nn)();let h=e,c=t.initialVelocity??0;const u=e=>{if(null===t)return;const i=h-s,r=-t.stiffness*i-t.damping*c;c+=r/t.mass*e,h+=c*e},d=1/120;a(e,0);const p=l.time();let f=p,m=!1;for(;!m;){for(;f<l.fixed;){const t=l.fixed-f;if(d>t?(u(t),f=l.fixed):(u(d),f+=d),Math.abs(s-h)<o&&Math.abs(c)<o){l.time(f),m=!0;break}}m||(a(h,l.fixed-p),yield)}a(s,l.fixed-p),null==n||n(s,l.fixed-p)}function ae(t,e,s,i){return{mass:t,stiffness:e,damping:s,initialVelocity:i}}(0,pt.G)(oe,(0,ft.C)());const le=ae(.13,5.7,1.2,10),he=ae(.2,20,.68,0),ce=ae(.08,4.75,.05,0),ue=ae(.39,19.85,2.82,0),de=ae(.04,10,.7,8),pe=ae(.03,20,.9,4.8),fe=ae(.16,15.35,1.88,0);function me(){const t=(0,at.nn)();for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];for(const r of s){const e=t.children.find((t=>t.runner===r));e&&!e.canceled&&(e.cancel(),e.time(t.time()))}}var ge=s(75168),ve=s(50580),ye=s(5881);const we={...i,...r,...n,...o,...a,...l,...h,_jsx:function(t,e){const{ref:s,children:i,...r}=e,n=Array.isArray(i)?i.flat():i;if(t===u)return n;if(null!=(o=t.prototype)&&o.isClass){const e=new t({...r,children:n});return null==s||s(e),e}return t({...r,ref:s,children:n});var o},makeScene2D:c.r}},53487:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{v:()=>transform});var _babel_standalone__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(87243),_babel_standalone__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_standalone__WEBPACK_IMPORTED_MODULE_0__),_site_src_components_Fiddle_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30695);function transform(code){try{const result=_babel_standalone__WEBPACK_IMPORTED_MODULE_0__.transform(code,{filename:"fiddle.tsx",presets:["typescript",["react",{runtime:"automatic",importSource:"@motion-canvas/2d/lib"}]],plugins:["mc"]});eval(result.code)}catch(e){return e}return null}_babel_standalone__WEBPACK_IMPORTED_MODULE_0__.registerPlugin("mc",(t=>{let{types:e}=t;return{visitor:{Program(t){t.node.body.unshift(e.variableDeclaration("const",[e.variableDeclarator(e.objectPattern(Object.keys(_site_src_components_Fiddle_runtime__WEBPACK_IMPORTED_MODULE_1__.Z).map((t=>e.objectProperty(e.identifier(t),e.identifier(t),!1,!0)))),e.memberExpression(e.identifier("window"),e.identifier("mc")))]))},ImportDeclaration(t){t.remove()},ExportDefaultDeclaration(t){t.replaceWith(t.node.declaration)}}}}))},26047:(t,e,s)=>{"use strict";s.d(e,{Z:()=>u});var i=s(7896),r=s(2784),n=s(59055);const o="icon_Fw4I";function a(t){return r.createElement("svg",(0,i.Z)({viewBox:"0 0 24 24",fill:"currentColor"},t),r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}))}function l(t){return r.createElement("svg",(0,i.Z)({viewBox:"0 0 24 24",fill:"currentColor"},t),r.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}))}function h(t){return r.createElement("svg",(0,i.Z)({viewBox:"0 0 24 24",fill:"currentColor"},t),r.createElement("path",{d:"M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27L15.73 3zM12 17.3c-.72 0-1.3-.58-1.3-1.3 0-.72.58-1.3 1.3-1.3.72 0 1.3.58 1.3 1.3 0 .72-.58 1.3-1.3 1.3zm1-4.3h-2V7h2v6z"}))}function c(t){return r.createElement("svg",(0,i.Z)({viewBox:"0 0 24 24",fill:"currentColor"},t),r.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}))}function u(t){const e=(0,r.useMemo)((()=>{switch(t.type){case"tip":return c;case"caution":return l;case"danger":return h;default:return a}}),[t.type]);return r.createElement(r.Fragment,null,r.createElement(n.Z,(0,i.Z)({icon:r.createElement(e,{className:o})},t)))}},94141:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var i=s(7896),r=s(2784),n=s(6277);const o="iconEdit_N_05";function a(t){let{className:e,...s}=t;return r.createElement("svg",(0,i.Z)({fill:"currentColor",width:"24px",height:"24px",viewBox:"0 0 24 24",className:(0,n.Z)(o,e),"aria-hidden":"true"},s),r.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}))}},57501:(t,e,s)=>{"use strict";s.d(e,{Z:()=>it});var i=s(2784),r=s(52203),n=s(18888),o=s(35565),a=s(99387),l=s(77120),h=s(53947),c=s(86253);const u=l.Qf.define([{tag:c.pJ.comment,color:"var(--hl-comment)"},{tag:c.pJ.docComment,color:"var(--hl-comment)"},{tag:c.pJ.blockComment,color:"var(--hl-comment)"},{tag:c.pJ.keyword,color:"var(--hl-keyword)"},{tag:c.pJ.number,color:"var(--hl-number)"},{tag:c.pJ.inserted,color:"var(--hl-number)"},{tag:c.pJ.constant(c.pJ.propertyName),color:"var(--hl-constant)"},{tag:c.pJ.attributeName,color:"var(--hl-variable)"},{tag:c.pJ.variableName,color:"var(--hl-variable)"},{tag:c.pJ.propertyName,color:"var(--hl-variable)"},{tag:c.pJ.deleted,color:"var(--hl-string)"},{tag:c.pJ.string,color:"var(--hl-string)"},{tag:c.pJ.attributeValue,color:"var(--hl-string)"},{tag:c.pJ.tagName,color:"var(--hl-tag)"},{tag:c.pJ.typeName,color:"var(--hl-tag)"},{tag:c.pJ.punctuation,color:"var(--hl-punctuation)"},{tag:c.pJ.operator,color:"var(--hl-punctuation)"},{tag:c.pJ.function(c.pJ.variableName),color:"var(--hl-function)"},{tag:c.pJ.function(c.pJ.propertyName),color:"var(--hl-function)"},{tag:c.pJ.className,color:"var(--hl-class)"},{tag:c.pJ.character,color:"var(--hl-char)"}]),d=o.tk.theme({"&":{fontSize:"var(--ifm-code-font-size)",lineHeight:"21.04px",fontFamily:"var(--ifm-font-family-monospace)",color:"var(--hl-color)",backgroundColor:"var(--hl-background)"},"&.cm-focused .cm-cursor":{borderLeftColor:"var(--hl-color)"},"&.cm-focused":{outline:"none"},".cm-gutters":{backgroundColor:"var(--hl-background)",color:"var(--ifm-color-secondary-darkest)",borderRight:"1px solid var(--ifm-background-color)"},"& .cm-lineNumbers .cm-gutterElement":{paddingLeft:"var(--ifm-pre-padding)"},".cm-activeLineGutter":{backgroundColor:"var(--ifm-code-active-color)"},".cm-scroller":{fontFamily:"var(--ifm-font-family-monospace)",lineHeight:"var(--ifm-pre-line-height)",paddingTop:"var(--ifm-pre-padding)",paddingBottom:"var(--ifm-pre-padding)"},".cm-content":{padding:"0"},"& .cm-line":{paddingRight:"var(--ifm-pre-padding)"},"& .cm-selectionBackground, &.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-activeLine":{backgroundColor:"var(--ifm-code-active-color)"},".cm-selectionMatch":{backgroundColor:"var(--ifm-code-selection-color)"},".cm-foldPlaceholder":{backgroundColor:"var(--ifm-code-selection-color)",borderColor:"var(--ifm-color-emphasis-300)"},".cm-tooltip":{backgroundColor:"var(--ifm-background-surface-color)"}});var p=s(78128);function f(t){const[e,s]=(0,i.useState)(null==t?void 0:t.current);return(0,i.useEffect)((()=>t&&t.subscribe(s)),[t]),e}function m(){return i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"}))}function g(){return i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"}))}function v(){return i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M8 5v14l11-7z"}))}function y(){return i.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor"},i.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}))}var w=s(30695);const b=Object.entries(w.Z).map((t=>{let[e,s]=t;return{label:e,type:"function"==typeof s?(i=s,i.prototype&&i.prototype.constructor.name?"class":"function"):"variable"};var i}));var x,S=s(96881);!function(t){t.Error="error",t.Warn="warn",t.Info="info",t.Http="http",t.Verbose="verbose",t.Debug="debug",t.Silly="silly"}(x||(x={}));class k{constructor(){this.logged=new S.p,this.history=[],this.profilers={}}get onLogged(){return this.logged.subscribable}log(t){this.logged.dispatch(t),this.history.push(t)}error(t){this.logLevel(x.Error,t)}warn(t){this.logLevel(x.Warn,t)}info(t){this.logLevel(x.Info,t)}http(t){this.logLevel(x.Http,t)}verbose(t){this.logLevel(x.Verbose,t)}debug(t){this.logLevel(x.Debug,t)}silly(t){this.logLevel(x.Silly,t)}logLevel(t,e){const s="string"==typeof e?{message:e}:e;s.level=t,this.log(s)}profile(t,e){const s=performance.now();if(this.profilers[t]){const i=this.profilers[t];delete this.profilers[t];const r=e??{message:t};return r.level??(r.level=x.Debug),r.durationMs=s-i,void this.log(r)}this.profilers[t]=s}}var C=s(82344),P=s(92673),R=s(30204);class T extends C.C{parse(t){return null===t?null:new R.I(t)}serialize(){var t;return(null==(t=this.value.current)?void 0:t.serialize())??null}}var F=s(74741),E=s(13170);class I extends C.C{parse(t){return this.parseRange(1/0,t[0],t[1]??1/0)}update(t,e,s,i){this.value.current=this.parseRange(s/i-F.Ib,t/i-F.Ib,e/i-F.Ib)}parseRange(t,e,s){return void 0===e&&(e=this.value.current[0]),void 0===s&&(s=this.value.current[1]),(e=(0,E.uZ)(0,t,e))>(s=(0,E.uZ)(0,t,s??1/0))&&([e,s]=[s,e]),s>=t&&(s=1/0),[e,s]}}var z=s(29797);class O extends C.C{parse(t){return new z.F(t)}serialize(){return this.value.current.serialize()}}class M extends P.v{constructor(){super("project",{version:new C.C("version",1),shared:new P.v("shared",{background:new T("background",null),range:new I("range",[0,1/0]),size:new O("size",new z.F(1920,1080)),audioOffset:new C.C("audioOffset",0)}),preview:new P.v("preview",{fps:new C.C("fps",30),resolutionScale:new C.C("scale",1)}),rendering:new P.v("rendering",{fps:new C.C("fps",60),resolutionScale:new C.C("scale",2),colorSpace:new C.C("color space","srgb"),fileType:new C.C("file type","image/png"),quality:new C.C("quality",1),groupByScene:new C.C("group by scene",!1)})})}getFullPreviewSettings(){return{...this.shared.get(),...this.preview.get()}}getFullRenderingSettings(){return{...this.shared.get(),...this.rendering.get()}}}var L=s(2672),j=s(9989),B=s(15914),A=s(1323);let _=null,D=null,q=null,N=null,U=null,W=null;function $(t,e){var s;if(t!==U)return _||(window.mc={...w.Z,makeScene2D:t=>(D.config=t,D.onReplaced.current=D,D)},D=(0,B.r)((function*(){yield})),D.onReplaced=new A.G(D),_={name:"fiddle",logger:new k,meta:new M,scenes:[D]},_.meta.shared.size.set([960,240]),q=new L.J(_,{size:_.meta.shared.size.get()}),N=new j.H,N.configure({size:_.meta.shared.size.get()}),q.onRender.subscribe((async()=>{await N.render(q.playback.currentScene,q.playback.previousScene)})),q.onRecalculated.subscribe((()=>{var t;N.finalBuffer.parentElement!==W&&(null==(t=W)||t.append(N.finalBuffer),U(q))}))),null==(s=W)||s.removeChild(N.finalBuffer),null==U||U(null),U=t,W=e,q.activate(),q.requestReset(),q}const Z="root_icgl",V="progress_HsLC",G="controls_R4ai",H="section_UscS",J="icon_brRG",X="error_N64d",Y="editor_xQGp",K="source_Dq6N",Q="preview_C9cZ",tt="button_ESGX";var et=s(53487);function st(t){let{children:e}=t;const[s,r]=(0,i.useState)(null),c=(0,i.useRef)(null),w=(0,i.useRef)(),x=(0,i.useRef)(),[S,k]=(0,i.useState)(null),C=f(null==s?void 0:s.onDurationChanged),P=f(null==s?void 0:s.onFrameChanged),R=f(null==s?void 0:s.onStateChanged),[T,F]=(0,i.useState)(null),[E,I]=(0,i.useState)(null),[z,O]=(0,i.useState)(null),M=function(t,e){if(void 0===e&&(e=!0),null!=E&&E.eq(t))return;$(r,x.current);const s=(0,et.v)(t.sliceString(0));var i;k(s),s||(I(t),e&&x.current.animate((void 0===i&&(i=4),[{boxShadow:"0 0 0px 0 #ccc inset",easing:"cubic-bezier(0.33, 1, 0.68, 1)"},{boxShadow:`0 0 0px ${i}px #ccc inset`,easing:"cubic-bezier(0.32, 0, 0.67, 0)"},{boxShadow:"0 0 0px 0 #ccc inset"}]),{duration:300}))};return(0,i.useEffect)((()=>{c.current=new o.tk({extensions:[n.Xy,o.$f.of([h.oc,{key:"Mod-s",preventDefault:!0,run:t=>(M(t.state.doc),!0)}]),o.tk.updateListener.of((t=>{F(t.state.doc),k(null)})),a.Lz.data.of({autocomplete:t=>{if("String"===(0,l.qz)(t.state).resolveInner(t.pos,-1).name)return;const e=t.matchBefore(/\w*/);return e.from!=e.to||t.explicit?{from:e.from,options:b}:null}}),(0,a.eJ)({jsx:!0,typescript:!0}),(0,l.nF)(u),d],parent:w.current,doc:e}),O(c.current.state);var t,s;return(t=r,s=x.current,U?null:$(t,s))&&M(c.current.state.doc,!1),()=>{!function(t){U===t&&_&&(q.deactivate(),U=null,W=null,N.finalBuffer.remove())}(r),c.current.destroy()}}),[]),i.createElement("div",{className:Z},i.createElement("div",{className:Q,ref:x},!s&&i.createElement("div",null,"Press play to preview the animation")),i.createElement("div",{className:V,style:{width:s?P/C*100+"%":0}}),i.createElement("div",{className:G},i.createElement("div",{className:H},E&&!(null!=T&&T.eq(E))&&i.createElement("button",{onClick:()=>M(c.current.state.doc),className:tt},i.createElement("kbd",null,"CTRL"),i.createElement("kbd",null,"S"),i.createElement("small",null,"Update preview"))),i.createElement("div",{className:H},i.createElement("button",{className:J,onClick:()=>null==s?void 0:s.requestPreviousFrame()},i.createElement(m,null)),i.createElement("button",{className:J,onClick:()=>{if(s)E||M(c.current.state.doc),s.togglePlayback();else{const t=$(r,x.current);M(c.current.state.doc),t.togglePlayback(!0)}}},!s||((null==R?void 0:R.paused)??1)?i.createElement(v,null):i.createElement(y,null)),i.createElement("button",{className:J,onClick:()=>null==s?void 0:s.requestNextFrame()},i.createElement(g,null))),i.createElement("div",{className:H},(z&&!(null!=T&&T.eq(z.doc))||E&&!(null!=T&&T.eq(E)))&&i.createElement("button",{className:tt,onClick:()=>{c.current.setState(z),M(z.doc),F(z.doc)}},i.createElement("small",null,"Reset example")))),S&&i.createElement("pre",{className:X},S.message),i.createElement("div",{className:Y,ref:w},i.createElement(p.Z,{className:K,language:"tsx"},e+"\n")))}const it={...r.Z,pre:function(t){var e,s;return(0,i.isValidElement)(t.children)&&null!=(e=t.children.props)&&e.editor?i.createElement(st,null,t.children.props.children):i.createElement(p.Z,(0,i.isValidElement)(t.children)&&"code"===(null==(s=t.children.props)?void 0:s.originalType)?t.children.props:{...t})}}},47733:(t,e,s)=>{"use strict";s.d(e,{Z:()=>a});var i=s(7896),r=s(2784),n=s(77287);const o="root_ZAv1";function a(t){const e=r.Children.toArray(t.children),s=e.find((t=>{var e;return r.isValidElement(t)&&"summary"===(null==(e=t.props)?void 0:e.mdxType)})),a=r.createElement(r.Fragment,null,e.filter((t=>t!==s)));return r.createElement(r.Fragment,null,r.createElement(n.P,(0,i.Z)({},t,{summary:s,className:o}),a))}},46155:(t,e,s)=>{var i={"./locale":99394,"./locale.js":99394};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=n,t.exports=r,r.id=46155}}]);